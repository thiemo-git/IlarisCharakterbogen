(()=>{"use strict";var e={729:e=>{var t=Object.prototype.hasOwnProperty,n="~";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,i,a,s){if("function"!=typeof i)throw new TypeError("The listener must be a function");var l=new r(i,a||e,s),d=n?n+t:t;return e._events[d]?e._events[d].fn?e._events[d]=[e._events[d],l]:e._events[d].push(l):(e._events[d]=l,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function l(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(n=!1)),l.prototype.eventNames=function(){var e,i,r=[];if(0===this._eventsCount)return r;for(i in e=this._events)t.call(e,i)&&r.push(n?i.slice(1):i);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},l.prototype.listeners=function(e){var t=n?n+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var r=0,a=i.length,s=new Array(a);r<a;r++)s[r]=i[r].fn;return s},l.prototype.listenerCount=function(e){var t=n?n+e:e,i=this._events[t];return i?i.fn?1:i.length:0},l.prototype.emit=function(e,t,i,r,a,s){var l=n?n+e:e;if(!this._events[l])return!1;var d,u,c=this._events[l],o=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),o){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,i),!0;case 4:return c.fn.call(c.context,t,i,r),!0;case 5:return c.fn.call(c.context,t,i,r,a),!0;case 6:return c.fn.call(c.context,t,i,r,a,s),!0}for(u=1,d=new Array(o-1);u<o;u++)d[u-1]=arguments[u];c.fn.apply(c.context,d)}else{var h,p=c.length;for(u=0;u<p;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),o){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,i);break;case 4:c[u].fn.call(c[u].context,t,i,r);break;default:if(!d)for(h=1,d=new Array(o-1);h<o;h++)d[h-1]=arguments[h];c[u].fn.apply(c[u].context,d)}}return!0},l.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},l.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},l.prototype.removeListener=function(e,t,i,r){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var l=this._events[a];if(l.fn)l.fn!==t||r&&!l.once||i&&l.context!==i||s(this,a);else{for(var d=0,u=[],c=l.length;d<c;d++)(l[d].fn!==t||r&&!l[d].once||i&&l[d].context!==i)&&u.push(l[d]);u.length?this._events[a]=1===u.length?u[0]:u:s(this,a)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,e.exports=l}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=n(729),t=n.n(e);function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,l=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){d=!0,s=e},f:function(){try{l||null==n.return||n.return()}finally{if(d)throw s}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var d=function(){function e(t,n){a(this,e),this.name=t,this.id=n,this.value=0}return l(e,[{key:"setValue",value:function(e){e>=0&&(this.value=e)}},{key:"addValue",value:function(){this.value++}},{key:"substrValue",value:function(){!this.value<=0&&this.value--}},{key:"getXP",value:function(){return(1+this.value)*this.value*8}}]),e}(),u=function(){function t(){var n=this;a(this,t),this.list=[],this.xp=0,this.events=new e.EventEmitter,this.events.on("change",(function(){n.calculateXP()})),this.events.on("change",(function(){var e,t=i(n.list);try{for(t.s();!(e=t.n()).done;){var r=e.value;document.getElementById("".concat(r.id,"-xp")).innerText="xp: ".concat(r.getXP()),document.getElementById("".concat(r.id,"-value")).innerText=r.value,document.getElementById("".concat(r.id,"-pw")).innerText=2*r.value}}catch(e){t.e(e)}finally{t.f()}}))}return l(t,[{key:"addAttribute",value:function(e,t){var n=this,i=new d(e,t);this.list.push(i);var r=document.getElementById("attributes__tbody"),a=document.createElement("tr");a.setAttribute("id","".concat(i.id,"-tr")),r.appendChild(a);var s=document.createElement("td");a.appendChild(s),s.appendChild(document.createTextNode("".concat(i.name," ")));var l=document.createElement("span");l.setAttribute("id","".concat(i.id,"-xp")),l.classList.add("attributes__xp"),l.innerText="xp: ".concat(i.getXP()),s.appendChild(l);var u=document.createElement("td");a.appendChild(u);var c=document.createElement("div");u.appendChild(c);var o=document.createElement("a");o.setAttribute("href","#"),o.classList.add("value-button"),o.innerText="-",o.addEventListener("click",(function(e){e.preventDefault(),n.substrAttrValue(i.id)})),c.classList.add("attributes__td-flex"),c.appendChild(o);var h=document.createElement("span");h.setAttribute("id","".concat(i.id,"-value")),h.classList.add("attributes__value"),h.innerText=i.value,c.appendChild(h);var p=document.createElement("a");p.setAttribute("href","#"),p.classList.add("value-button"),p.innerText="+",p.addEventListener("click",(function(e){e.preventDefault(),n.addAttrValue(i.id)})),c.appendChild(p);var m=document.createElement("td");a.appendChild(m);var v=document.createElement("span");v.setAttribute("id","".concat(i.id,"-pw")),v.classList.add("attributes__pw"),v.innerText=2*i.value,m.appendChild(v)}},{key:"setAttrValue",value:function(e,t){var n,r=i(this.list);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.id===e){a.setValue(t),this.events.emit("change");break}}}catch(e){r.e(e)}finally{r.f()}}},{key:"addAttrValue",value:function(e){var t,n=i(this.list);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.id===e){r.addValue(),this.events.emit("change");break}}}catch(e){n.e(e)}finally{n.f()}}},{key:"substrAttrValue",value:function(e){var t,n=i(this.list);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.id===e){r.substrValue(),this.events.emit("change");break}}}catch(e){n.e(e)}finally{n.f()}}},{key:"getAttrValue",value:function(e){var t,n=i(this.list);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.id===e)return r.value}}catch(e){n.e(e)}finally{n.f()}}},{key:"getAttrXP",value:function(e){var t,n=i(this.list);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.id===e)return r.getXP}}catch(e){n.e(e)}finally{n.f()}}},{key:"calculateXP",value:function(){this.xp=0;var e,t=i(this.list);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.xp+=n.getXP()}}catch(e){t.e(e)}finally{t.f()}document.getElementById("attributes-xp").innerText="xp: ".concat(this.xp)}},{key:"on",value:function(e,t){e in this.events||(this.events[e]=[]),this.events[e].push(t)}},{key:"emit",value:function(e,t){if(e in this.events){var n,r=i(this.events[e]);try{for(r.s();!(n=r.n()).done;)(0,n.value)(t)}catch(e){r.e(e)}finally{r.f()}}}}]),t}();const c=JSON.parse('{"Y":[{"name":"Konstitution","id":"ko","value":0},{"name":"Mut","id":"mu","value":0},{"name":"Gewandheit","id":"ge","value":0},{"name":"Körperkraft","id":"kk","value":0},{"name":"Intuition","id":"in","value":0},{"name":"Klugheit","id":"kl","value":0},{"name":"Charisma","id":"ch","value":0},{"name":"Fingerfertigkeit","id":"ff","value":0}],"n":[{"name":"Handgemenge","id":"s01","fight":true,"factor":0,"attr1":"mu","attr2":"ge","attr3":"kk"},{"name":"Hiebwaffen","id":"s02","fight":true,"factor":0,"attr1":"mu","attr2":"ge","attr3":"kk"},{"name":"Klingenwaffen","id":"s03","fight":true,"factor":0,"attr1":"mu","attr2":"ge","attr3":"kk"},{"name":"Stangenwaffen","id":"s04","fight":true,"factor":0,"attr1":"mu","attr2":"ge","attr3":"kk"},{"name":"Schusswaffen","id":"s05","fight":false,"factor":3,"attr1":"ff","attr2":"in","attr3":"kk"},{"name":"Wurfwaffen","id":"s06","fight":false,"factor":2,"attr1":"ff","attr2":"in","attr3":"kk"},{"name":"Athletik","id":"s07","fight":false,"factor":3,"attr1":"ge","attr2":"kk","attr3":"ko"},{"name":"Heimlichkeit","id":"s08","fight":false,"factor":2,"attr1":"ge","attr2":"in","attr3":"mu"},{"name":"Selbstbeherrschung","id":"s09","fight":false,"factor":3,"attr1":"ko","attr2":"mu","attr3":"mu"},{"name":"Wahrnehmung","id":"s10","fight":false,"factor":4,"attr1":"in","attr2":"in","attr3":"kl"},{"name":"Autorität","id":"s11","fight":false,"factor":3,"attr1":"ch","attr2":"kl","attr3":"mu"},{"name":"Beeinflussung","id":"s12","fight":false,"factor":3,"attr1":"ch","attr2":"ch","attr3":"in"},{"name":"Gebräuche","id":"s13","fight":false,"factor":2,"attr1":"ch","attr2":"in","attr3":"kl"},{"name":"Derekunde","id":"s14","fight":false,"factor":2,"attr1":"ff","attr2":"in","attr3":"kl"},{"name":"Magiekunde","id":"s15","fight":false,"factor":2,"attr1":"kl","attr2":"kl","attr3":"mu"},{"name":"Mythenkunde","id":"s16","fight":false,"factor":2,"attr1":"in","attr2":"in","attr3":"kl"},{"name":"Überleben","id":"s17","fight":false,"factor":3,"attr1":"ge","attr2":"ff","attr3":"ko"},{"name":"Alchemie","id":"s18","fight":false,"factor":3,"attr1":"ff","attr2":"ff","attr3":"kl"},{"name":"Handwerk","id":"s19","fight":false,"factor":3,"attr1":"ff","attr2":"ff","attr3":"kk"},{"name":"Heilkunde","id":"s20","fight":false,"factor":3,"attr1":"ch","attr2":"ff","attr3":"kl"},{"name":"Verschlagenheit","id":"s21","fight":false,"factor":2,"attr1":"ff","attr2":"in","attr3":"mu"}]}');function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function p(e,t,n){var i,r=document.createElement("li");r.classList.add("talent"),i=n.discount?"".concat(n.name," (verbilligt)"):n.name,r.appendChild(document.createTextNode(i));var a=document.createElement("a");return a.setAttribute("href","#"),a.classList.add("talent-delete"),a.innerText="X",a.addEventListener("click",(function(i){i.preventDefault(),e.deleteSkillTalent(t.id,n.name),r.remove()})),r.appendChild(a),r}function m(e,t){var n;n=void 0!==t?"popup-".concat(t.id):"popup-new";var i=document.createElement("li");i.classList.add("skill"),void 0!==t&&i.classList.add("closed");var r=document.createElement("h3");r.classList.add("skill-heading"),void 0!==t?(r.innerText=t.name,r.addEventListener("click",(function(e){i.classList.contains("opened")?(i.classList.remove("opened"),i.classList.add("closed")):(i.classList.remove("closed"),i.classList.add("opened"))}))):r.innerText="Neue Fertigkeit",i.appendChild(r);var a=document.createElement("div");a.classList.add("skill-row"),i.appendChild(a);var s=document.createElement("label");s.setAttribute("for","".concat(n,"-name")),s.innerText="Name:",a.appendChild(s);var l=document.createElement("input");l.setAttribute("id","".concat(n,"-name")),l.setAttribute("class","inputField skill-textinput"),l.setAttribute("type","text"),a.appendChild(l);var d=document.createElement("div");d.classList.add("skill-row"),i.appendChild(d);var u=document.createElement("label");u.setAttribute("for","".concat(n,"-fight")),u.innerText="Kampfskill:",d.appendChild(u);var c=document.createElement("input");c.setAttribute("id","".concat(n,"-fight")),c.setAttribute("class","checkbox skill-checkbox"),c.setAttribute("type","checkbox"),c.addEventListener("change",(function(e){c.checked?h.classList.add("hide"):h.classList.remove("hide")})),d.appendChild(c);var h=document.createElement("div");h.classList.add("skill-row"),i.appendChild(h);var p=document.createElement("label");p.setAttribute("for","".concat(n,"-factor")),p.innerText="Faktor:",h.appendChild(p);var v=document.createElement("input");v.setAttribute("id","".concat(n,"-factor")),v.setAttribute("class","inputField skill-numberinput"),v.setAttribute("type","number"),h.appendChild(v),void 0!==t&&t.fight&&h.classList.add("hide");var f=document.createElement("div");f.classList.add("skill-row"),i.appendChild(f);var g=document.createElement("label");g.innerText="Attribute:",f.appendChild(g);var b=document.createElement("div");b.classList.add("skill-attributes-container"),f.appendChild(b);var k=document.createElement("select");k.setAttribute("class","select skill-select"),k.setAttribute("name","Attr1"),b.appendChild(k);var E=document.createElement("select");E.setAttribute("class","select skill-select"),E.setAttribute("name","Attr2"),b.appendChild(E);var x=document.createElement("select");x.setAttribute("class","select skill-select"),x.setAttribute("name","Attr3"),b.appendChild(x);var w,A=o(e.attributesModule.list);try{for(A.s();!(w=A.n()).done;){var y=w.value.id,S=document.createElement("option");S.setAttribute("value",y),S.innerText=y;var I=document.createElement("option");I.setAttribute("value",y),I.innerText=y;var L=document.createElement("option");L.setAttribute("value",y),L.innerText=y,k.appendChild(S),E.appendChild(I),x.appendChild(L)}}catch(e){A.e(e)}finally{A.f()}if(void 0!==t&&(l.value=t.name,c.checked=t.fight,v.value=t.factor,k.value=t.attr1,E.value=t.attr2,x.value=t.attr3),void 0!==t){var C=document.createElement("div");C.setAttribute("class","skill-row skill-buttons"),i.appendChild(C);var T=document.createElement("button");T.setAttribute("class","button skill-button"),T.innerText="Ändern",T.addEventListener("click",(function(n){if(n.preventDefault(),v.value<=0&&v.value<=5){if(""===l.value)return void alert("Bitte einen Namen angeben");if(!1===c.checked&&""===v.value)return void alert("Faktor eingeben oder Kampfskill auswählen!");if(!1===c.checked&&v.value>=0&&v.value>5)return void alert("Der Faktor muss zwischen 1 und 5 liegen");var i;i=c.checked?2:v.value,r.innerText=l.value,e.editSkill(t.id,l.value,c.checked,i,k.value,E.value,x.value)}else alert("Faktor muss zwischen 0 und 5 liegen!")})),C.appendChild(T);var _=document.createElement("button");_.setAttribute("class","button skill-button"),_.innerText="Löschen",_.addEventListener("click",(function(n){n.preventDefault(),e.deleteSkill(t.id),document.getElementById("".concat(t.id,"-tr")).remove(),i.remove()})),C.appendChild(_)}else{var z=document.createElement("button");z.setAttribute("class","button skill-button"),z.innerText="Hinzufügen",z.addEventListener("click",(function(t){var n;t.preventDefault(),e.list.filter((function(e){return!0===e.self})).length>=2?alert("Limit an eigenen Fertigkeiten erreicht!"):""!==l.value?!1!==c.checked||""!==v.value?!1===c.checked&&v.value>=0&&v.value>5?alert("Der Faktor muss zwischen 1 und 5 liegen"):(n=c.checked?2:v.value,idNumber++,e.addSkill(l.value,"s".concat(idNumber),c.checked,n,k.value,E.value,x.value,!0),i.before(m(e,{name:l.value,fight:c.checked,factor:n,attr1:k.value,attr2:E.value,attr3:x.value,self:!0,id:"s".concat(idNumber)})),document.getElementById("addSkill").classList.remove("hide"),i.remove()):alert("Faktor eingeben oder Kampfskill auswählen!"):alert("Bitte einen Namen angeben")})),i.appendChild(z)}return i}function v(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function b(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var E=b((function e(t,n){k(this,e),this.name=t,this.discount=n})),x=function(){function e(t,n,i,r,a,s,l,d,u){k(this,e),this.attributesModule=t,this.name=n,this.id=i,this.fight=r,this.factor=a,this.value=0,this.attr1=s,this.attr2=l,this.attr3=d,this.self=u,this.talents=[]}return b(e,[{key:"edit",value:function(e,t,n,i,r,a){this.name=e,this.fight=t,this.factor=n,this.attr1=i,this.attr2=r,this.attr3=a}},{key:"addValue",value:function(){this.value++}},{key:"substrValue",value:function(){this.value>0&&this.value--}},{key:"addTalent",value:function(e,t){var n,i=!1,r=v(this.talents);try{for(r.s();!(n=r.n()).done;)e===n.value.name&&(i=!0)}catch(e){r.e(e)}finally{r.f()}return!i&&(this.talents.push(new E(e,t)),!0)}},{key:"deleteTalent",value:function(e){var t=this.talents.findIndex((function(t){return t.name===e}));this.talents.splice(t,1)}},{key:"getXP",value:function(){var e,t=(1+this.value)*this.value*(this.factor/2),n=0,i=v(this.talents);try{for(i.s();!(e=i.n()).done;)e.value.discount?n+=10*this.factor:n+=20*this.factor}catch(e){i.e(e)}finally{i.f()}return t+n}},{key:"getBasis",value:function(){var e,t,n,i,r=v(this.attributesModule.list);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(a.id===this.attr1&&(e=a.value),a.id===this.attr2&&(t=a.value),a.id===this.attr3&&(n=a.value),void 0!==e&&void 0!==t&&void 0!==n)break}}catch(e){r.e(e)}finally{r.f()}return Math.round((e+t+n)/3)}}]),e}(),w=function(){function t(n,i){var r=this;k(this,t),this.attributesModule=n,this.advantagesModule=i,this.list=[],this.xp=0,this.boni={},this.events=new e.EventEmitter,this.events.on("change",(function(){r.updateHTML()})),document.getElementById("skills__self-button").addEventListener("click",(function(e){document.getElementById("body").appendChild(function(e){var t=document.createElement("div"),n=document.createElement("div");n.classList.add("popup-bg"),t.appendChild(n);var i=document.createElement("div");i.classList.add("popup"),t.appendChild(i);var r=document.createElement("div");r.classList.add("popup-header"),i.appendChild(r);var a=document.createElement("h2");a.classList.add("popup-heading"),a.innerText="SupernaturalSkills",r.appendChild(a);var s=document.createElement("a");s.setAttribute("href","#"),s.classList.add("popup-close"),s.innerText="X",s.addEventListener("click",(function(e){e.preventDefault(),t.remove()})),r.appendChild(s);var l=document.createElement("ul");i.appendChild(l);var d,u=o(e.list);try{for(u.s();!(d=u.n()).done;){var c=d.value;l.appendChild(m(e,c))}}catch(e){u.e(e)}finally{u.f()}var h=document.createElement("buttton");return h.setAttribute("class","addSkill button"),h.setAttribute("id","addSkill"),h.innerText="Fertigkeit hinzufügen",h.addEventListener("click",(function(t){l.appendChild(m(e,void 0)),h.classList.add("hide")})),i.appendChild(h),t}(r))}))}return b(t,[{key:"addSkill",value:function(e,t,n,i,r,a,s,l){var d=new x(this.attributesModule,e,t,n,i,r,a,s,l);this.list.push(d),document.getElementById("skill-list-body").appendChild(function(e,t){var n=t.getBasis(),i=document.createElement("tr");i.classList.add("list__entry"),i.classList.add("closed"),i.setAttribute("id","".concat(t.id,"-tr"));var r=document.createElement("td");r.classList.add("list__entry-header"),r.classList.add("skills__skillName"),r.addEventListener("click",(function(e){i.classList.contains("closed")?(i.classList.remove("closed"),i.classList.add("opened")):(i.classList.remove("opened"),i.classList.add("closed"))})),i.appendChild(r);var a=document.createElement("h4");a.classList.add("list__entry-heading"),a.appendChild(document.createTextNode("".concat(t.name," "))),r.appendChild(a);var s=document.createElement("span");s.setAttribute("id","".concat(t.id,"-xp")),s.classList.add("list__entry-xp"),s.innerText="xp: ".concat(t.getXP()),a.appendChild(s);var l=document.createElement("td");l.setAttribute("id","".concat(t.id,"-factor")),l.classList.add("skills__factor"),l.innerText=t.factor,i.appendChild(l);var d=document.createElement("td");d.classList.add("skills__attributes"),d.innerText="".concat(t.attr1.toUpperCase(),"/").concat(t.attr2.toUpperCase(),"/").concat(t.attr3.toUpperCase()),i.appendChild(d);var u=document.createElement("td");u.setAttribute("id","".concat(t.id,"-basis")),u.classList.add("skills__basis"),u.innerText=n,i.appendChild(u);var c=document.createElement("td");c.classList.add("skills__value"),i.appendChild(c);var h=document.createElement("div");h.classList.add("skills__value-container"),c.appendChild(h);var m=document.createElement("a");m.setAttribute("href","#".concat(t.id,"-tr")),m.classList.add("value-button"),m.innerText="-",m.addEventListener("click",(function(n){n.preventDefault(),e.substrSkillValue(t.id)})),h.appendChild(m);var v=document.createElement("span");v.setAttribute("id","".concat(t.id,"-value")),v.classList.add("skills__value-number"),v.innerText=t.value,h.appendChild(v);var f=document.createElement("a");f.setAttribute("href","#".concat(t.id,"-tr")),f.classList.add("value-button"),f.innerText="+",f.addEventListener("click",(function(n){n.preventDefault(),e.addSkillValue(t.id)})),h.appendChild(f);var g=document.createElement("td");g.setAttribute("id","".concat(t.id,"-talents")),g.classList.add("skills__TalentList"),g.addEventListener("click",(function(n){document.getElementById("body").appendChild(function(e,t){var n=document.createElement("div"),i=document.createElement("div");i.classList.add("popup-bg"),n.appendChild(i);var r=document.createElement("div");r.setAttribute("data-id",t.id),r.classList.add("popup"),n.appendChild(r);var a=document.createElement("div");a.classList.add("popup-header"),r.appendChild(a);var s=document.createElement("h2");s.classList.add("popup-heading"),s.innerText="Talente (".concat(t.name,"):"),a.appendChild(s);var l=document.createElement("a");l.setAttribute("href","#"),l.classList.add("popup-close"),l.innerText="X",l.addEventListener("click",(function(e){e.preventDefault(),n.remove()})),a.appendChild(l);var d=document.createElement("ul");r.appendChild(d);var u,c=o(t.talents);try{for(c.s();!(u=c.n()).done;){var h=u.value;d.appendChild(p(e,t,h))}}catch(e){c.e(e)}finally{c.f()}var m=document.createElement("button");return m.classList.add("addTalent"),m.classList.add("button"),m.innerText="TALENT HINZUFÜGEN",m.addEventListener("click",(function(n){n.preventDefault(),m.classList.add("hide");var i=document.createElement("li");i.classList.add("talent-new"),d.appendChild(i);var r=document.createElement("h3");r.classList.add("talent-new-heading"),r.innerText="Neues Talent:",i.appendChild(r);var a=document.createElement("div");a.classList.add("talent-new-row"),i.appendChild(a);var s=document.createElement("label");s.innerText="Name: ",a.appendChild(s);var l=document.createElement("input");l.setAttribute("type","text"),l.classList.add("inputField"),l.classList.add("talent-new-textinput"),a.appendChild(l);var u=document.createElement("div");u.classList.add("talent-new-row"),u.classList.add("talent-new-flex"),i.appendChild(u);var c=document.createElement("label");c.innerText="verbilligt: ",u.appendChild(c);var o=document.createElement("input");o.setAttribute("type","checkbox"),o.classList.add("checkbox"),o.classList.add("talent-new-checkbox"),u.appendChild(o);var h=document.createElement("button");h.classList.add("button"),h.innerText="Hinzufügen",h.addEventListener("click",(function(n){if(n.preventDefault(),""!==l.value){var r=l.value,a=o.checked;if(!t.addTalent(r,a))return void alert("Talent bereits vorhanden");e.events.emit("change"),i.remove(),d.appendChild(p(e,t,{name:r,discount:a})),m.classList.remove("hide")}})),i.appendChild(h)})),r.appendChild(m),n}(e,t))})),i.appendChild(g);var b=document.createElement("span");b.classList.add("skills__TalentsEdit"),b.innerText="edit",g.appendChild(b);var k=document.createElement("td");k.setAttribute("id","".concat(t.id,"-pw")),k.classList.add("skills__pw"),k.innerText=Math.round(n+t.value/2),i.appendChild(k);var E=document.createElement("td");return E.setAttribute("id","".concat(t.id,"-pwt")),E.classList.add("skills__pwt"),E.innerText=n+t.value,i.appendChild(E),i}(this,d)),this.events.emit("change")}},{key:"editSkill",value:function(e,t,n,i,r,a,s){this.list.find((function(t){return t.id===e})).edit(t,n,i,r,a,s),this.events.emit("change")}},{key:"deleteSkill",value:function(e){var t=this.list.findIndex((function(t){return t.id===e}));this.list[t].self&&this.list.splice(t,1),this.events.emit("change")}},{key:"setSkillValue",value:function(e,t){var n,i=v(this.list);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.id===e&&t>=0&&(r.value=t)}}catch(e){i.e(e)}finally{i.f()}}},{key:"addSkillValue",value:function(e){var t,n=v(this.list);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.id===e){var r=[];r.push(this.attributesModule.getAttrValue(i.attr1)),r.push(this.attributesModule.getAttrValue(i.attr2)),r.push(this.attributesModule.getAttrValue(i.attr3));var a=Math.max.apply(Math,r);if(i.value+1>a+2)return void alert("Der Fertigkeitswert darf maximal um 2 höher sein als das höchste Attribut!");i.value+=1}}}catch(e){n.e(e)}finally{n.f()}this.events.emit("change")}},{key:"substrSkillValue",value:function(e){var t,n=v(this.list);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.id===e&&i.value>0&&i.value--}}catch(e){n.e(e)}finally{n.f()}this.events.emit("change")}},{key:"addSkillTalent",value:function(e,t,n){var i,r=!1,a=v(this.list);try{for(a.s();!(i=a.n()).done;){var s=i.value;s.id===e&&(r=s.addTalent(t,n))}}catch(e){a.e(e)}finally{a.f()}return this.events.emit("change"),r}},{key:"deleteSkillTalent",value:function(e,t){this.list.find((function(t){return t.id===e})).deleteTalent(t),this.events.emit("change")}},{key:"updateXP",value:function(){this.xp=0;var e,t=v(this.list);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.xp+=n.getXP()}}catch(e){t.e(e)}finally{t.f()}}},{key:"updateFightFactor",value:function(){var e=this.list.filter((function(e){return!0===e.fight}));if(0!==e.length){var t=e.reduce((function(e,t){return null===e||e.value<t.value||e.value===t.value&&e.talents.length<t.talents.length?t:e}),null);if(0===t.value){var n,i=v(e);try{for(i.s();!(n=i.n()).done;)n.value.factor=4}catch(e){i.e(e)}finally{i.f()}}else{var r,a=v(e);try{for(a.s();!(r=a.n()).done;){var s=r.value;t.id===s.id?s.factor=4:s.factor=2}}catch(e){a.e(e)}finally{a.f()}}}}},{key:"updateHTML",value:function(){this.updateFightFactor(),this.updateXP();var e,t=v(this.list);try{for(t.s();!(e=t.n()).done;){var n=e.value,i=n.value;void 0!==this.boni[n.id]&&(i+=this.boni[n.id]);var r=n.getBasis(),a=n.getXP();document.getElementById("".concat(n.id,"-xp")).innerText="xp: ".concat(a),document.getElementById("".concat(n.id,"-factor")).innerText=n.factor,document.getElementById("".concat(n.id,"-basis")).innerText=r,document.getElementById("".concat(n.id,"-value")).innerText=i,document.getElementById("".concat(n.id,"-pw")).innerText=Math.round(r+n.value/2),document.getElementById("".concat(n.id,"-pwt")).innerText=r+n.value;var s=document.getElementById("".concat(n.id,"-talents"));s.innerHTML="";var l,d=v(n.talents);try{for(d.s();!(l=d.n()).done;){var u=l.value,c=document.createElement("span");c.classList.add("skills__talent"),c.innerText=u.name,s.appendChild(c)}}catch(e){d.e(e)}finally{d.f()}var o=document.createElement("span");o.classList.add("skills__TalentsEdit"),o.innerText="edit",s.appendChild(o)}}catch(e){t.e(e)}finally{t.f()}document.getElementById("skills-xp").innerText="xp: ".concat(this.xp)}},{key:"setSkillBoni",value:function(e){this.boni=e}}]),t}();function A(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function y(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var S=y((function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.playerName="",this.race="",this.status="",this.description="",this.peculiarities=[],this.schip=0,this.schipMod=0;var n=document.getElementById("characterName");n.addEventListener("click",(function(e){var i=document.createElement("div");document.getElementById("body").appendChild(i);var r=document.createElement("div");r.classList.add("popup-bg"),i.appendChild(r);var a=document.createElement("div");a.classList.add("popup"),i.appendChild(a);var s=document.createElement("div");s.classList.add("popup-header"),a.appendChild(s);var l=document.createElement("h2");l.classList.add("popup-heading"),l.innerText="Neuer Charaktername:",s.appendChild(l);var d=document.createElement("a");d.setAttribute("href","#"),d.classList.add("popup-close"),d.innerText="X",d.addEventListener("click",(function(e){e.preventDefault(),i.remove()})),s.appendChild(d);var u=document.createElement("div");u.classList.add("changeName-flex"),a.appendChild(u);var c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("class","inputField changeNameInput"),u.appendChild(c);var o=document.createElement("button");o.setAttribute("class","changeNameButton button"),o.innerText="Ändern",o.addEventListener("click",(function(e){e.preventDefault();var r=c.value;""!==r?(t.playerName=r,n.innerText=t.playerName,i.remove()):alert("Bitte einen Namen Eingeben!")})),u.appendChild(o)}));var i=document.getElementById("schip");i.value=this.schip,i.setAttribute("data-value",this.schip),i.addEventListener("change",(function(){if(""===i.value)return i.value=0,i.setAttribute("data-value",0),void(t.schip=0);if(i.value<0||i.value>10){var e=parseInt(i.getAttribute("data-value"));return i.value=e,void alert("Der Wert muss zwischen 0 und 10 liegen")}t.schip=parseInt(i.value),i.setAttribute("data-value",t.schip),i.value=t.schip}));var r=document.getElementById("schip-m");r.value=this.schipMod,r.setAttribute("data-value",this.schipMod),r.addEventListener("change",(function(){if(""===r.value)return r.value=0,r.setAttribute("data-value",0),void(t.schipMod=0);if(r.value<0||r.value>10){var e=parseInt(r.getAttribute("data-value"));return r.value=e,void alert("Der Wert muss zwischen 0 und 10 liegen")}t.schipMod=parseInt(r.value),r.setAttribute("data-value",t.schipMod),r.value=t.schipMod}));var a=document.getElementById("race");a.value=this.race,a.addEventListener("change",(function(){t.race=a.value}));var s=document.getElementById("status");s.value=this.status,s.addEventListener("change",(function(){t.status=s.value}));var l=document.getElementById("description");l.value=this.description,l.addEventListener("change",(function(){t.description=l.value}));var d,u=document.getElementById("peculiarities"),c=function(){var e=u.children[d];e.addEventListener("change",(function(){if(""===e.getAttribute("data-value")){if(""===e.value)return;t.peculiarities.push(e.value)}else""===e.value&&""!==e.getAttribute("dat-value")?t.peculiarities.splice(t.peculiarities.indexOf(e.getAttribute("data-value")),1):t.peculiarities[t.peculiarities.indexOf(e.getAttribute("data-value"))]=e.value;var n;for(n=0;n<8;n++){var i;i=void 0===t.peculiarities[n]?"":t.peculiarities[n],u.children[n].value=i,u.children[n].setAttribute("data-value",i)}}))};for(d=0;d<8;d++)c()}));const I=JSON.parse('{"DH":[{"name":"Achaz","description":"Du kannst mit deinem Schwanz waffenlose Angriffe in Reichweite 1 (siehe auch S. 38) durchführen. Allerdings leidest du unter Kältestarre; für jede Temperaturstufe unter normal (S. 35) sind alle körperlichen Proben um –4 erschwert.\\nVoraussetzungen: üblicherweise nur von Achaz wählbar; 0 EP\\nNachkauf: extrem selten","page":28,"xp":0},{"name":"Angepasst (Dunkelheit)","level":["I","II"],"description":"Durch deine Spezies oder langjährige Erfahrung hast du dich an eine bestimmte Umgebung oder Umweltbedingung gewöhnt. Abzüge durch diese Umgebung (Beispiele auf S. 38), insbesondere im Kampf, sinken für dich um eine/zwei Stufen.Die Kosten für Angepasst legt der Spielleiter fest, wobei er sich an der Häufigkeit der Umgebung orientieren sollte. Zu allgemein gefasste Umgebungen wie „unsicherer Untergrund“ sollte er nicht zulassen.\\n- Dunkelheit: verringert Abzüge durch schlechte Lichtverhältnisse (40 EP pro Stufe)\\nVoraussetzungen: keine/Angepasst I","page":28,"xp":[40,80]},{"name":"Angepasst (Schnee)","level":["I","II"],"description":"Durch deine Spezies oder langjährige Erfahrung hast du dich an eine bestimmte Umgebung oder Umweltbedingung gewöhnt. Abzüge durch diese Umgebung (Beispiele auf S. 38), insbesondere im Kampf, sinken für dich um eine/zwei Stufen.Die Kosten für Angepasst legt der Spielleiter fest, wobei er sich an der Häufigkeit der Umgebung orientieren sollte. Zu allgemein gefasste Umgebungen wie „unsicherer Untergrund“ sollte er nicht zulassen.\\n-Schnee: verringert Abzüge durch schneebedeckten oder eisigen Untergrund (20 EP pro Stufe)\\nVoraussetzungen: keine/Angepasst I","page":28,"xp":[20,40]},{"name":"Angepasst (Wasser)","level":["I","II"],"description":"Durch deine Spezies oder langjährige Erfahrung hast du dich an eine bestimmte Umgebung oder Umweltbedingung gewöhnt. Abzüge durch diese Umgebung (Beispiele auf S. 38), insbesondere im Kampf, sinken für dich um eine/zwei Stufen.Die Kosten für Angepasst legt der Spielleiter fest, wobei er sich an der Häufigkeit der Umgebung orientieren sollte. Zu allgemein gefasste Umgebungen wie „unsicherer Untergrund“ sollte er nicht zulassen.\\n-Wasser: verringert Abzüge durch knie- oder hüfttiefes Wasser und unter Wasser (20 EP pro Stufe)\\nVoraussetzungen: keine/Angepasst I","page":28,"xp":[20,40]},{"name":"Angepasst ()","level":["I","II"],"description":"Durch deine Spezies oder langjährige Erfahrung hast du dich an eine bestimmte Umgebung oder Umweltbedingung gewöhnt. Abzüge durch diese Umgebung (Beispiele auf S. 38), insbesondere im Kampf, sinken für dich um eine/zwei Stufen.Die Kosten für Angepasst legt der Spielleiter fest, wobei er sich an der Häufigkeit der Umgebung orientieren sollte. Zu allgemein gefasste Umgebungen wie „unsicherer Untergrund“ sollte er nicht zulassen.\\n-Wald: verringert Abzüge durch Wurzeln, Gestrüpp und dichtes Unterholz (40 EP pro Stufe)\\nVoraussetzungen: keine/Angepasst I","page":28,"xp":[40,80]},{"name":"Einkommen","level":["I","II","III","IV"],"description":"Deine Familie, Organisation oder eine persönliche Mäzenin stellt dir ein monatliches Einkommen von 4/16/64/256 Dukaten zur Verfügung, die du beispielsweise über eine Filiale der Nordlandbank oder ein Ordenshaus beziehen kannst. Fern der Zivilisation kannst du nicht auf dein Einkommen zugreifen. Das Einkommen reicht aus, um die Lebenshaltungskosten eines Angehörigen der Unterschicht/ Mittelschicht/Oberschicht/Elite zu decken.\\nVoraussetzungen: keine/Einkommen I/Einkommen II/ Einkommen III; 20 EP pro Stufe","page":29,"xp":[20,40,80,120]},{"name":"Eisenaffine Aura","description":"Malusse durch den Bann des Eisens (S. 78) sinken um 8 Punkte.\\nVoraussetzungen: Zauberer I, 40 EP","page":29,"xp":0},{"name":"Gefahreninstinkt","description":"Mit der Gabe Gefahreninstinkt kannst du mit dem Talent Wachsamkeit auch Gefahren wahrnehmen, die mit gewöhnlichen Sinnen nicht wahrzunehmen sind. Dazu gehören etwa magische Fallen oder eine bald losbrechende Lawine. Ist die Gefahr auch mit gewöhnlichen Sinnen wahrnehmbar erhältst du eine Erleichterung von +4.\\nVoraussetzungen: 100 EP","page":29,"xp":100},{"name":"Geweiht","level":["I","II","III","IV"],"description":"Du verfügst über 8/16/24/32 Karmapunkte und kannst karmale Traditionen erlernen.\\nVoraussetzungen: keine/Geweiht I/Geweiht II/Geweiht III; 40 EP pro Stufe","page":29,"xp":[40,80,120,160],"boni":{"kap":[8,16,24,32]}},{"name":"Glück","level":["I","II"],"description":"Deine maximalen Schicksalspunkte steigen auf 5/6.\\nVoraussetzungen: keine/Glück I; jede Stufe 40 EP","page":29,"xp":[40,80]},{"name":"Kreis der Verdammnis","level":["I","II","III","IV","V","VI","VII"],"description":"Der Vorteil hat vier Auswirkungen. Erstens erhältst du beim Erwerb der ersten Stufe 400 EP, für jede weitere Stufe 200 EP. Zweitens werden deine Gunstpunkte (S. 93) sofort aufgefüllt. Drittens erhältst du für jede Stufe eine verdorbene Eigenheit (S. 92). Viertens entwickelst du ein Dämonenmal und kannst über die Liturgie Seelenprüfung als Paktierer erkannt werden. Auf geweihtem/heiligen Boden musst du jede Minute eine Willensstärke-Probe (20/28) ablegen, um nicht durch starke Schmerzen aufzufallen und eine Wunde zu erleiden.\\nVoraussetzungen: 0 EP pro Stufe","page":29,"xp":[-400,-600,-800,-100,-1200,-1400,-1600]},{"name":"Magieabweisend","description":"Zauber wirken auf dich deutlich schwächer. Du ignorierst bei allen Zaubern eine Stufe der spontanen Modifikation Mächtige Magie. Zauber ohne Mächtige Magie haben auf dich keine Wirkung.\\nVoraussetzung: 40 EP","page":29,"xp":40},{"name":"Magiegespür","description":"In der Nähe astraler Kräfte überfällt dich ein Frösteln, du hörst sphärische Klänge oder ein Farbschleier legt sich für dich über die Umgebung. Mit dem Talent Sinnenschärfe kannst du Intensitätsanalysen (S. 80) von magischen Gegenständen durchführen. Nach dem aktiven Einsatz der Gabe erleidest du einen Punkt Erschöpfung.\\nVoraussetzungen: 60 EP","page":29,"xp":60},{"name":"Natürliche Rüstung","description":"Du verfügst über dichtes Fell oder zähe Schuppenhaut, wodurch dein RS um 1 steigt. Die BE verändert sich dadurch nicht.\\nVoraussetzungen: üblicherweise nur von Achaz, Orks oder ähnlichen Spezies wählbar; 80 EP","page":29,"xp":80,"boni":{"rs":1}},{"name":"Paktierer","level":["I","II","III","IV"],"description":"Du verfügst über 8/16/24/32 Gunstpunkte und kannst die dämonische Tradition deines Erzdämons erlernen.\\nVoraussetzungen: Kreis der Verdammnis I/Paktierer I/ Paktierer II/Paktierer III; 40 EP pro Stufe","page":29,"xp":[40,80,120,160],"boni":{"gup":[8,16,24,32]}},{"name":"Prophezeien","description":"Du kannst das Talent Willenskraft nutzen, um mit Spielkarten, Würfeln, Astrologie, Drogen oder prophetischen Träumen einen vagen und meist mehrdeutigen Blick in die Zukunft zu werfen. Nach dem Einsatz der Gabe erleidest du einen Punkt Erschöpfung.\\nVoraussetzungen: 40 EP","page":30,"xp":40},{"name":"Resistenz/Immunität gegen Gifte - ","level":["Resistenz","Immunität"],"description":"Resistenz mildert die Auswirkungen von Giften (S. 34), mit Immunität sind Gifte gegen dich wirkungslos.\\nVoraussetzungen: keine/Resistenz gegen Gifte; 40 EP pro Stufe","page":30,"xp":[40,80]},{"name":"Resistenz/Immunität gegen Krankheiten - ","level":["Resistenz","Immunität"],"description":"Resistenz mildert die Auswirkungen von Krankheiten (S. 35), mit Immunität erkrankst du niemals.\\nVoraussetzungen: keine/Resistenz gegen Krankheiten; 20 EP pro Stufe","page":30,"xp":[40,80]},{"name":"Resistenz gegen Kälte","description":"Verschiebt die Temperaturstufe (S. 35) bei niedrigen Temperaturen um eine Stufe in Richtung normal.\\nVoraussetzungen: jeder Vorteil 40 EP","page":30,"xp":40},{"name":"Resistenz gegen Hitze","description":"Verschiebt die Temperaturstufe (S. 35) bei hohen Temperaturen um eine Stufe in Richtung normal.\\nVoraussetzungen: jeder Vorteil 40 EP","page":30,"xp":40},{"name":"Zauberer","level":["I","II","III","IV"],"description":"Du verfügst über 8/16/24/32 Astralpunkte und kannst magische Traditionen erlernen. Dämonen, Elementare oder Hellsichtsmagier können dich magisch wahrnehmen. Zauberer I entspricht dabei einem einfachen Magiedilettanten, Zauberer II einer wenig begabten Alchemistin. Die meisten ausgebildeten Zauberer verfügen dagegen über Zauberer III oder IV.\\nVoraussetzungen: keine/Zauberer I/Zauberer II/Zauberer III; 40 EP pro Stufe","page":30,"xp":[40,80,120,160],"boni":{"asp":[8,16,24,32]}},{"name":"Zwergennase","description":"Mit Zwergennase besitzt du einen übernatürlich guten Riecher für Verstecke, Geheimgänge und mechanische Fallen. Du kannst sie mit dem Talent Wachsamkeit wahrnehmen, auch wenn das mit gewöhnlichen Sinnen unmöglich wäre. Ist das Objekt auch mit gewöhnlichen Sinnen wahrnehmbar, erhältst du eine Erleichterung von +4.\\nVoraussetzungen: 60 EP","page":30,"xp":60}],"QW":[{"id":"asp","name":"Astralpunkte"},{"id":"kap","name":"Karmapunkte"},{"id":"gup","name":"Gunstpunkte"},{"id":"rs","name":"Rüstungschutz"},{"id":"ini","name":"Initiative"},{"id":"ws","name":"Wundschwelle"},{"id":"mr","name":"Magieresistenz"},{"id":"gs","name":"Geschwindigkeit"},{"id":"sb","name":"Schadensbonus"}],"UR":[{"name":"Eindrucksvoll I","description":"In Rededuellen sind Proben auf Betören und Einschüchtern um +2 erleichtert.\\n\\nVoraussetzung: CH > 4, 20 EP","attribute":"ch","minValue":4,"xp":20},{"name":"Eindrucksvoll II","description":"In Rededuellen sind Proben auf Betören und Einschüchtern um +2 erleichtert.\\n\\nBei Proben auf Betören, Einschüchtern und Gebräuche gelten Patzer als gewöhnlich misslungen, außer sie entstehen durch eine ungewohnte Umgebung (S. 55).\\n\\nVoraussetzung: CH > 6, 40 EP","attribute":"ch","minValue":6,"xp":40},{"name":"Soziale Anpassungsfähigkeit","description":"Du bist immun gegen alle Auswirkungen durch ungewohnte Umgebung (S. 55).\\n\\nVoraussetzung: CH > 8, 60 EP","attribute":"ch","minValue":8,"xp":60},{"name":"Starke Aura","description":"Während eines Rededuells kannst du eine CH-Probe gegen die Willenskraft deines Gegenübers ablegen. Wenn die Probe gelingt, kannst du eine Probe in diesem Rededuell wiederholen.\\n\\nVoraussetzung: CH > 10, 80 EP","attribute":"ch","minValue":10,"xp":80},{"name":"Routiniert I","description":"Die Dauer zur Fertigung handwerklicher Produkte, zur Wundversorgung und zum Schlösser knacken verkürzt sich um ein Viertel des unmod. Werts.\\n\\nVoraussetzung: FF > 4, 20 EP","attribute":"ff","minValue":4,"xp":20},{"name":"Routiniert II","description":"Die Dauer zur Fertigung handwerklicher Produkte, zur Wundversorgung und zum Schlösser knacken verkürzt sich um ein weiteres Viertel des unmodifizierten Werts. Bei Proben auf Alchemie, Handwerk, Heilkunde, und Verschlagenheit gelten Patzer als gewöhnlich misslungen.\\n\\nVoraussetzung: FF > 6, 40 EP","attribute":"ff","minValue":6,"xp":40},{"name":"Improvisation","description":"Unzureichendes Werkzeug oder minderwertige Verbrauchsmaterialien gelten um eine Stufe höher.\\n\\nVoraussetzung: FF > 8, 60 EP","attribute":"ff","minValue":8,"xp":60},{"name":"Meisterwerk","description":"Mit hervorragenden Materialien und dem doppelten Zeitaufwand kannst du ein Meisterwerk schaffen. Dieses erhält zusätzlich 2x die Modifikation hohe Qualität und verbesserte Eigenschaften nach Meisterentscheid. Solche Werke sind extrem selten und Gegenstand von Sagen und Legenden. Der Vorteil kann nur mit Fertigkeiten mit einem unmod. Probenwert von mindestens 16 angewandt werden.\\n\\nVoraussetzung: FF > 10, 80 EP","attribute":"ff","minValue":10,"xp":80},{"name":"Flink I","description":"GS +1\\n\\nVoraussetzung: GE > 4, 20 EP","attribute":"ge","minValue":4,"xp":20,"boni":{"gs":1}},{"name":"Flink II","description":"GS +1\\n\\nBei Athletikproben gelten Patzer als gewöhnlich misslungen.\\n\\nVoraussetzung: GE > 6, 40 EP","attribute":"ge","minValue":6,"xp":40,"boni":{"gs":1}},{"name":"Katzenhaft","description":"Erschwernisse durch unsicheren Untergrund sinken um eine Stufe und gegen den Schaden aus Stürzen, Zusammenstößen usw. kannst du deine GE als WS verwenden.\\n\\nVoraussetzung: GE > 8, 60 EP","attribute":"ge","minValue":8,"xp":60},{"name":"Körperbeherrschung","description":"Du kannst Nah- oder Fernkampfangriffen, elementaren Schadenszaubern oder ähnlichen Schadensquellen mit einer GE-Gegenprobe entgehen. Der Einsatz von Körperbeherrschung wird angesagt, nachdem übliche Verteidigungsmöglichkeiten (wie eine Verteidigung) versagt haben, aber bevor der Schaden bestimmt wird. Anschließend erleidest du einen Punkt Erschöpfung.\\n\\nVoraussetzung: GE > 8, 60 EP","attribute":"ge","minValue":10,"xp":80},{"name":"Vorausschauend I","description":"In Rededuellen sind Proben auf Rhetorik und Überreden um +2 erleichtert.\\n\\nVoraussetzung: IN > 4, 20 EP","attribute":"in","minValue":4,"xp":20},{"name":"Vorausschauend II","description":"In Rededuellen sind Proben auf Rhetorik und Überreden um +2 erleichtert.\\n\\nVoraussetzung: IN > 6, 40 EP","attribute":"in","minValue":6,"xp":40},{"name":"Bedächtig","description":"Wenn du in einem Rededuell abwartest, ist deine Probe um +4 erleichtert.\\n\\nVoraussetzung: IN > 8, 60 EP","attribute":"in","minValue":8,"xp":60},{"name":"Empathie","description":"Du kannst eine IN-Probe gegen die Willenskraft deines Gegenübers ablegen. Wenn die Probe gelingt, erfährst du eine seiner Schwächen (S. 16). Eine einmal abgelegte Probe, egal ob ge- oder misslungen, kannst du nur wiederholen, wenn du das Gegenüber besser kennengelernt hast.\\n\\nVoraussetzung: IN > 10, 80 EP","attribute":"in","minValue":10,"xp":80},{"name":"Zerstörerisch I","description":"Proben zum Zerstören oder Durchbrechen von Gegenständen sind um +4 erleichtert.\\n\\nVoraussetzung: KK > 4, 20 EP","attribute":"kk","minValue":4,"xp":20},{"name":"Zerstörerisch II","description":"Proben zum Zerstören oder Durchbrechen von Gegenständen sind um +4 erleichtert.\\n\\nErlaubt das Manöver Hammerschlag gegen Gegenstände. Bei waffenlosen Angriffen gegen Gegenstände verletzt du dich normalerweise nicht.\\n\\nVoraussetzung: KK > 6, 40 EP","attribute":"kk","minValue":6,"xp":40},{"name":"Muskelprotz","description":"Einschüchtern-Proben im Kampf sind um +4 erleichtert und du kannst ohne zusätzliche Erschwernis bis zu 4 Gegner einschüchtern.\\n\\nVoraussetzung: KK > 8, 60 EP","attribute":"kk","minValue":8,"xp":60},{"name":"Adrenalinschub","description":"Du kannst dir eine Probe bei einer körperlichen Tätigkeit (z.B. Schmieden, Laufen, Nahkampfangriff) um +4 erleichtern. Anschließend erleidest du einen Punkt Erschöpfung.\\n\\nVoraussetzung: KK > 10, 80 EP","attribute":"kk","minValue":10,"xp":80},{"name":"Scharfsinnig I","description":"Proben bei einer Ermittlung oder Recherche sind um +2 erleichtert.\\n\\nVoraussetzung: KL > 4, 20 EP","attribute":"kl","minValue":4,"xp":20},{"name":"Scharfsinnig II","description":"Proben bei einer Ermittlung oder Recherche sind um +2 erleichtert.\\n\\nBei Recherchen erhältst du einen zusätzlichen Informationsgrad, wenn der gewertete Würfel eine 12 oder höher zeigt.\\n\\nVoraussetzung: KL > 6, 40 EP","attribute":"kl","minValue":6,"xp":40},{"name":"Vorbereitung","description":"Du kannst Proben auf profane Fertigkeiten besonders sorgfältig vorbereiten (sofern Vorbereitung sinnvoll ist). Wenn du die doppelte notwendige Zeit aufwendest, erhältst du +4 Punkte Erleichterung.\\n\\nVoraussetzung: KL > 8, 60 EP","attribute":"kl","minValue":8,"xp":60},{"name":"Eingebung","description":"Pro Abenteuer kannst du den Spielleiter W3 mal um einen Tipp bitten. Diese Tipps sollen nicht das Abenteuer lösen, können dich aber auf Fehler in deinem Plan oder bisher übersehene Aspekte oder Zusammenhänge aufmerksam machen.\\n\\nVoraussetzung: KL > 10, 80 EP","attribute":"kl","minValue":10,"xp":80},{"name":"Abgehärtet I","description":"Proben zur Abwehr von Giften und Krankheiten sind um +4 erleichtert.\\n\\nVoraussetzung: KO > 4, 20 EP","attribute":"ko","minValue":4,"xp":20},{"name":"Abgehärtet II","description":"Proben zur Abwehr von Giften und Krankheiten sind um weitere +4 erleichtert und das Durchhaltevermögen (S. 19) steigt um 2.\\n\\nVoraussetzung: KO > 6, 40 EP","attribute":"ko","minValue":6,"xp":40},{"name":"Schnelle Heilung","description":"Du regenerierst 2 Wunden pro durchschlafener Nacht und immer noch 1 Wunde, wenn die Schlafphase unterbrochen wurde.\\n\\nVoraussetzung: KO > 8, 60 EP","attribute":"ko","minValue":8,"xp":60},{"name":"Unverwüstlich","description":"WS +1\\n\\nWenn Zähigkeitsproben zum Ignorieren von Kampfunfähigkeit misslingen, erleidest du keine Erschöpfung.\\n\\nVoraussetzung: KO > 10, 80 EP","attribute":"ko","minValue":10,"xp":80},{"name":"Willensstark I","description":"MR +4\\n\\nVoraussetzung: MU > 4, 20 EP","attribute":"mu","minValue":4,"xp":20,"boni":{"mr":4}},{"name":"Willensstark II","description":"MR +4\\n\\nAuf dich wirkende Furcht-Effekte (S. 46) zählen als eine Stufe niedriger.\\n\\nVoraussetzung: MU > 6, 40 EP","attribute":"mu","minValue":6,"xp":40,"boni":{"mr":4}},{"name":"Geisterpanzer","description":"Gegen direkten Schaden aus Zaubern wie Fulminictus, Ignisphaero oder Hexengalle kannst du deinen MU als WS verwenden.\\n\\nVoraussetzung: MU > 8, 60 EP","attribute":"mu","minValue":8,"xp":60},{"name":"Unbeugsamkeit","description":"Magieresistenz +MU/2\\n\\nMit einer Aktion Konflikt und einer Konterprobe (MU, 16, siehe S. 122) kannst du einen auf dir liegenden Zauber abschütteln. Anschließend erleidest du einen Punkt Erschöpfung.\\n\\nVoraussetzung: MU > 10, 80 EP","attribute":"mu","minValue":10,"xp":80,"boni":{"mr":{"attribute":"mu","divider":2}}}],"hX":[{"id":"asp","name":"Astralpunkte"},{"id":"kap","name":"Karmapunkte"},{"id":"gup","name":"Gunstpunkte"},{"id":"rs","name":"Rüstungschutz"},{"id":"ini","name":"Initiative"},{"id":"ws","name":"Wundschwelle"},{"id":"mr","name":"Magieresistenz"},{"id":"gs","name":"Geschwindigkeit"},{"id":"sb","name":"Schadensbonus"}],"SJ":[{"name":"Kommando: Haltet Stand!","description":"Furcht-Effekte für Mitstreiter zählen als eine Stufe niedriger (für den Einsatz von Kommandos siehe S. 46).\\n\\nVoraussetzung: CH > 4, 20 EP","attribute":"ch","minValue":4,"xp":20},{"name":"Kommando: Formiert euch!","description":"+1 VT für alle Mitstreiter\\n\\nVoraussetzung: CH > 6, 40 EP","attribute":"ch","minValue":6,"xp":40},{"name":"Kommando: Keine Gefangenen!","description":"+2 TP für alle Mitstreiter\\n\\nVoraussetzung: CH > 8, 60 EP","attribute":"ch","minValue":8,"xp":60},{"name":"Kommando: Kennt keinen Schmerz!","description":"+1 WS für alle Mitstreiter\\n\\nVoraussetzung: CH > 10, 80 EP","attribute":"ch","minValue":10,"xp":80},{"name":"Ruhige Hand","description":"Verdoppelt im Fernkampf den Bonus durch Zielen.\\n\\nVoraussetzung: FF > 4, 20 EP","attribute":"ff","minValue":4,"xp":20},{"name":"Reflexschuss","description":"Im Fernkampf sinken Abzüge durch Bewegung oder Wind um eine Stufe.\\n\\nVoraussetzung: FF > 6, 40 EP","attribute":"ff","minValue":6,"xp":40},{"name":"Schnellziehen","description":"Erlaubt das Manöver Schnellschuss (S. 46) im Fernkampf. Nahkampf- und Wurfwaffen können in einer Freien Aktion gezogen werden.\\n\\nVoraussetzung: FF > 8, 60 EP","attribute":"ff","minValue":8,"xp":60},{"name":"Meisterschuss","description":"Erlaubt das Manöver Meisterschuss (S. 46) im Fernkampf.\\n\\nVoraussetzung: FF > 10, 80 EP","attribute":"ff","minValue":10,"xp":80},{"name":"Standfest","description":"Nach einem Sturz befindest du dich in kniender statt liegender Position.\\n\\nVoraussetzung: GE > 4, 20 EP","attribute":"ge","minValue":4,"xp":20},{"name":"Sturmangriff","description":"Erlaubt das Manöver Sturmangriff.\\n\\nVoraussetzung: GE > 6, 40 EP","attribute":"ge","minValue":6,"xp":40},{"name":"Todesstoß","description":"Erlaubt das Manöver Todesstoß.\\n\\nVoraussetzung: GE > 8, 60 EP","attribute":"ge","minValue":8,"xp":60},{"name":"Präzision","description":"Zeigt der gewertete Würfel bei einem Angriff eine 16 oder höher, richtet der Angriff GE TP zusätzlich an.\\n\\nVoraussetzung: GE > 10, 80 EP","attribute":"ge","minValue":10,"xp":80},{"name":"Kampfreflexe","description":"INI +4\\n\\nVoraussetzung: IN > 4, 20 EP","attribute":"in","minValue":4,"xp":20,"boni":{"ini":4}},{"name":"Defensiver Kampfstil","description":"Volle Defensive (S. 36) ist für dich eine einfache Aktion. Dadurch könntest du beispielsweise zusätzlich die Aktion Konflikt wählen, um eine AT –4 ausführen.\\n\\nVoraussetzung: IN > 6, 40 EP","attribute":"in","minValue":6,"xp":40},{"name":"Aufmerksamkeit","description":"Misslingt deinem Gegner eine Verteidigung gegen dich, die mit einem Manöver verstärkt wurde, darfst du sofort einen Passierschlag gegen ihn ausführen. Passierschläge gegen dich sind um –4 erschwert.\\n\\nVoraussetzung: IN > 8, 60 EP","attribute":"in","minValue":8,"xp":60},{"name":"Klingentanz","description":"Erlaubt das Manöver Klingentanz.\\n\\nVoraussetzung: IN > 10, 80 EP","attribute":"in","minValue":10,"xp":80},{"name":"Niederwerfen","description":"Erlaubt das Manöver Niederwerfen.\\n\\nVoraussetzung: KK > 4, 20 EP","attribute":"kk","minValue":4,"xp":20},{"name":"Waffenloser Kampf","description":"Deine unbewaffneten Angriffe erhalten die Waffeneigenschaften Kopflastig und Wendig (S. 47).\\n\\nVoraussetzung: KK > 6, 40 EP","attribute":"kk","minValue":6,"xp":40},{"name":"Hammerschlag","description":"Erlaubt das Manöver Hammerschlag.\\n\\nVoraussetzung: KK > 8, 60 EP","attribute":"kk","minValue":8,"xp":60},{"name":"Unaufhaltsam","description":"Selbst bei einer gelungenen gegnerischen Verteidigung, die nicht mit dem Manöver Ausweichen verstärkt wurde, richtest du halben Schaden an. Manövereffekte wirken weiterhin nur bei gelungenen Attacken.\\n\\nVoraussetzung: KK > 10, 80 EP","attribute":"kk","minValue":10,"xp":80},{"name":"Zäher Hund","description":"Blutungen drohen nur alle 2 x WS Initiativephasen, eine Wunde anzurichten.\\n\\nVoraussetzung: KO > 4, 20 EP","attribute":"ko","minValue":4,"xp":20},{"name":"Rüstungsgewöhnung","description":"Die BE aller Rüstungen ist um 1 gesenkt.\\n\\nVoraussetzung: KO > 6, 40 EP","attribute":"ko","minValue":6,"xp":40},{"name":"Eisern","description":"Wundschmerzeffekte treten bei dir erst ab drei Wunden auf einen Schlag auf.\\n\\nVoraussetzung: KO > 8, 60 EP","attribute":"ko","minValue":8,"xp":60},{"name":"Verbesserte Rüstungsgewöhnung","description":"Die BE aller Rüstungen ist um weitere 2 gesenkt. (Wenn du auch Rüstungsgewöhnung I gekauft hast, also um insgesamt 3 Punkte.)\\n\\nVoraussetzung: KO > 10, 80 EP","attribute":"ko","minValue":10,"xp":80},{"name":"Ausfall","description":"Erlaubt das Manöver Ausfall.\\n\\nVoraussetzung: MU > 4, 20 EP","attribute":"mu","minValue":4,"xp":20},{"name":"Offensiver Kampfstil","description":"Der Verteidigungs-Malus durch volle Offensive sinkt auf –4.\\n\\nVoraussetzung: MU > 6, 40 EP","attribute":"mu","minValue":6,"xp":40},{"name":"Gegenhalten","description":"Wenn du eine Attacke abwehrst, die mit einem Manöver verstärkt wurde, darfst du sofort einen Passierschlag gegen den Angreifer ausführen.\\n\\nVoraussetzung: MU > 8, 60 EP","attribute":"mu","minValue":8,"xp":60},{"name":"Kalte Wut","description":"Der Charakter kann sich im Kampf in kalte Wut versetzen und Wundabzüge ignorieren.\\n\\nVoraussetzung: MU > 10, 80 EP","attribute":"mu","minValue":10,"xp":80}],"om":[{"id":"asp","name":"Astralpunkte"},{"id":"kap","name":"Karmapunkte"},{"id":"gup","name":"Gunstpunkte"},{"id":"rs","name":"Rüstungschutz"},{"id":"ini","name":"Initiative"},{"id":"ws","name":"Wundschwelle"},{"id":"mr","name":"Magieresistenz"},{"id":"gs","name":"Geschwindigkeit"},{"id":"sb","name":"Schadensbonus"}],"k0":[{"name":"Beidhändiger Kampf","level":["I","II","III","IV"],"attribute":"ge","minValue":[4,6,8,10],"xp":[20,60,120,200],"description":"Stufe I:\\n+1 AT\\n\\nStufe 2:\\n+1 AT\\nDeine zweite Waffe ignoriert die üblichen Erschwernisse für Nebenwaffen (S. 39). Damit kannst du den vollen Nutzen aus zwei unterschiedlichen Waffen ziehen. Falls du dennoch zwei identische Waffen nutzt, kannst du einen (weiteren) Passierschlag zwischen zwei INI-Phasen als Freie Reaktion ausführen.\\n\\nStufe 3:\\n+1 AT\\nErlaubt das Manöver Doppelangriff\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung des Kampfstils verwendet werden.","boni":[null,null,null,{"skills":8}]},{"name":"Kraftvoller Kampf","level":["I","II","III","IV"],"attribute":"kk","minValue":[4,6,8,10],"xp":[20,60,120,200],"description":"Stufe 1:\\n+1 Waffenschaden\\n\\nStufe 2:\\n+1 Waffenschaden\\nDu kannst in eine Halbschwertstellung wechseln, um deine Waffe in einer um eins kleineren Reichweite zu führen. Der Wechsel in die Stellung oder zurück geschieht in einer Freien Aktion.\\n\\nStufe 3:\\n+1 Waffenschaden\\nErlaubt das Manöver Befreiungsschlag.\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung des Kampfstils verwendet werden.","boni":[null,null,null,{"skills":8}]},{"name":"Parierwaffenkampf","level":["I","II","III","IV"],"attribute":"ge","minValue":[4,6,8,10],"xp":[20,60,120,200],"description":"Stufe 1:\\nDu kannst gegen humanoide Gegner –1 Erschwernis aus Manövern ignorieren.\\n\\nStufe 2:\\nDu kannst gegen humanoide Gegner –1 Erschwernis aus Manövern ignorieren. Deine Parierwaffe ignoriert die üblichen Erschwernisse für Nebenwaffen (S. 39). Wenn ideale Kampfbedingungen herrschen – du also keine Erschwernisse durch Position, Untergrund und Licht erleidest – befindest du dich in vorteilhafter Position (S. 38).\\n\\nStufe 3:\\nDu kannst gegen humanoide Gegner –1 Erschwernis aus Manövern ignorieren. Erlaubt das Manöver Riposte.\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung des Kampfstils verwendet werden.","boni":[null,null,null,{"skills":8}]},{"name":"Reiterkampf(GE)","level":["I","II","III","IV"],"attribute":"ge","minValue":[4,6,8,10],"xp":[20,60,120,200],"description":"Stufe 1:\\n+1 AT, VT, Waffenschaden\\nErlaubt das Manöver Sturmangriff mit dem Reittier.\\n\\nStufe 2:\\n+1 AT, VT, Waffenschaden\\nDein Reittier ignoriert die üblichen Erschwernisse für Nebenwaffen (S. 39). Außerdem werden Reiten-AT und VT nicht durch die BE modifiziert und im Fernkampf ignorierst du den Malus für berittene Schützen (S. 46).\\n\\nStufe 3:\\n+1 AT, VT, Waffenschaden\\nErlaubt das Manöver Überrennen mit dem Reittier.\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung des Kampfstils verwendet werden.","boni":[null,null,null,{"skills":8}]},{"name":"Reiterkampf(KK)","level":["I","II","III","IV"],"attribute":"kk","minValue":[4,6,8,10],"xp":[20,60,120,200],"description":"Stufe 1:\\n+1 AT, VT, Waffenschaden\\nErlaubt das Manöver Sturmangriff mit dem Reittier.\\n\\nStufe 2:\\n+1 AT, VT, Waffenschaden\\nDein Reittier ignoriert die üblichen Erschwernisse für Nebenwaffen (S. 39). Außerdem werden Reiten-AT und VT nicht durch die BE modifiziert und im Fernkampf ignorierst du den Malus für berittene Schützen (S. 46).\\n\\nStufe 3:\\n+1 AT, VT, Waffenschaden\\nErlaubt das Manöver Überrennen mit dem Reittier.\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung des Kampfstils verwendet werden.","boni":[null,null,null,{"skills":8}]},{"name":"Schildkampf","level":["I","II","III","IV"],"attribute":"kk","minValue":[4,6,8,10],"xp":[20,60,120,200],"description":"Stufe 1:\\n+1 VT\\n\\nStufe 2:\\n+1 VT\\nDein Schild ignoriert die üblichen Erschwernisse für Nebenwaffen (S. 39). Außerdem kannst du die erste VT zwischen zwei Initiativephasen als Freie Reaktion ausführen.\\n\\nStufe 3:\\n+1 VT\\nErlaubt das Manöver Schildwall.\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung des Kampfstils verwendet werden.","boni":[null,null,null,{"skills":8}]},{"name":"Schneller Kampf","level":["I","II","III","IV"],"attribute":"ge","minValue":[4,6,8,10],"xp":[20,60,120,200],"description":"Stufe 1:\\n+1 AT\\n\\nStufe 2:\\n+1 AT\\nDu kannst in eine Halbschwertstellung wechseln, um deine Waffe in einer um 1 kleineren Reichweite zu führen. Der Wechsel in die Stellung oder zurück geschieht in einer Freien Aktion.\\n\\nStufe 3:\\n+1 AT\\nErlaubt das Manöver Unterlaufen.\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung des Kampfstils verwendet werden.","boni":[null,null,null,{"skills":8}]}]}');function L(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function T(e,t){var n=document.getElementById("mainAdvantages-add"),i=document.createElement("div");i.setAttribute("class","advantages__advantage closed"),n.before(i);var r=document.createElement("h4");r.innerText=e.name+" ",r.addEventListener("click",(function(){i.classList.contains("opened")?(i.classList.add("closed"),i.classList.remove("opened")):(i.classList.add("opened"),i.classList.remove("closed"))})),i.appendChild(r);var a=document.createElement("span");a.classList.add("advantages__advantage-xp"),Array.isArray(e.xp)?a.innerText="xp: ".concat(e.xp[e.curLevelIndex]):a.innerText="xp: ".concat(e.xp),r.appendChild(a);var s=document.createElement("p");if(s.innerText=e.description,i.appendChild(s),void 0!==e.level){var l=document.createElement("div");l.classList.add("advantages__select-flex"),i.appendChild(l);var d=document.createElement("label");d.setAttribute("for","mainAdv-".concat(e.name,"-select")),d.innerText="Stufe:",l.appendChild(d);var u=document.createElement("select");u.setAttribute("id","mainAdv-".concat(e.name,"-select")),u.setAttribute("class","select advantages__select"),u.addEventListener("change",(function(n){t.editAdvantageLevel(e.name,u.value),Array.isArray(e.xp)?a.innerText="xp: ".concat(e.xp[e.curLevelIndex]):a.innerText="xp: ".concat(e.xp)})),l.appendChild(u);var c,o=L(e.level);try{for(o.s();!(c=o.n()).done;){var h=c.value,p=document.createElement("option");p.setAttribute("value",h),p.innerText=h,u.appendChild(p)}}catch(e){o.e(e)}finally{o.f()}u.value=e.level[e.curLevelIndex]}var m=document.createElement("button");m.classList.add("button"),m.innerText="Löschen",m.addEventListener("click",(function(n){n.preventDefault(),t.deleteAdvantage(e.name),i.remove()})),i.appendChild(m)}function _(e,t){var n=document.getElementById("profanAdvantages-add"),i=document.createElement("div");i.setAttribute("class","advantages__advantage closed"),n.before(i);var r=document.createElement("h4");r.innerText=e.name+" ",r.addEventListener("click",(function(){i.classList.contains("opened")?(i.classList.add("closed"),i.classList.remove("opened")):(i.classList.add("opened"),i.classList.remove("closed"))})),i.appendChild(r);var a=document.createElement("span");a.classList.add("advantages__advantage-xp"),a.innerText="xp: ".concat(e.xp),r.appendChild(a);var s=document.createElement("p");s.innerText=e.description,i.appendChild(s);var l=document.createElement("button");l.classList.add("button"),l.innerText="Löschen",l.addEventListener("click",(function(n){n.preventDefault(),t.deleteAdvantage(e.name),i.remove()})),i.appendChild(l)}function z(e,t){var n=document.getElementById("fightAdvAdvantages-add"),i=document.createElement("div");i.setAttribute("class","advantages__advantage closed"),n.before(i);var r=document.createElement("h4");r.innerText=e.name+" ",r.addEventListener("click",(function(){i.classList.contains("opened")?(i.classList.add("closed"),i.classList.remove("opened")):(i.classList.add("opened"),i.classList.remove("closed"))})),i.appendChild(r);var a=document.createElement("span");a.classList.add("advantages__advantage-xp"),a.innerText="xp: ".concat(e.xp),r.appendChild(a);var s=document.createElement("p");s.innerText=e.description,i.appendChild(s);var l=document.createElement("button");l.classList.add("button"),l.innerText="Löschen",l.addEventListener("click",(function(n){n.preventDefault(),t.deleteAdvantage(e.name),i.remove()})),i.appendChild(l)}function V(e,t){var n=document.getElementById("fightStyleAdvantages-add"),i=document.createElement("div");i.setAttribute("class","advantages__advantage closed"),n.before(i);var r=document.createElement("h4");r.innerText="".concat(e.name," "),r.addEventListener("click",(function(){i.classList.contains("opened")?(i.classList.add("closed"),i.classList.remove("opened")):(i.classList.add("opened"),i.classList.remove("closed"))})),i.appendChild(r);var a=document.createElement("span");a.classList.add("advantages__advantage-xp"),Array.isArray(e.xp)?a.innerText="xp: ".concat(e.xp[e.curLevelIndex]):a.innerText="xp: ".concat(e.xp),r.appendChild(a);var s=document.createElement("p");if(s.innerText=e.description,i.appendChild(s),void 0!==e.level){var l=document.createElement("div");l.classList.add("advantages__select-flex"),i.appendChild(l);var d=document.createElement("label");d.setAttribute("for","mainAdv-".concat(e.name,"-select")),d.innerText="Stufe:",l.appendChild(d);var u=document.createElement("select");u.setAttribute("id","mainAdv-".concat(e.name,"-select")),u.setAttribute("class","select advantages__select"),u.addEventListener("change",(function(n){t.editAdvantageLevel(e.name,u.value),Array.isArray(e.xp)?a.innerText="xp: ".concat(e.xp[e.curLevelIndex]):a.innerText="xp: ".concat(e.xp)})),l.appendChild(u);var c,o=L(e.level);try{for(o.s();!(c=o.n()).done;){var h=c.value,p=document.createElement("option");p.setAttribute("value",h),p.innerText=h,u.appendChild(p)}}catch(e){o.e(e)}finally{o.f()}u.value=e.level[e.curLevelIndex]}var m=document.createElement("button");m.classList.add("button"),m.innerText="Löschen",m.addEventListener("click",(function(n){n.preventDefault(),t.deleteAdvantage(e.name),i.remove()})),i.appendChild(m)}function P(e,t){if(!(!e.boni[e.curLevelIndex]instanceof Object)){var n=document.getElementById("body"),i=document.createElement("div");n.appendChild(i);var r=document.createElement("div");r.classList.add("popup-bg"),i.appendChild(r);var a=document.createElement("div");a.classList.add("popup"),i.appendChild(a);var s=document.createElement("div");s.classList.add("popup-header"),a.appendChild(s);var l=document.createElement("h2");l.classList.add("popup-heading"),l.innerText="Bonus-Skillpunkte",s.appendChild(l);var d=document.createElement("a");d.setAttribute("href","#"),d.setAttribute("class","popup-close"),d.innerText="X",d.addEventListener("click",(function(n){n.preventDefault();var r,a={},s=0,l=L(c.children);try{for(l.s();!(r=l.n()).done;){var d=r.value,u=d.children[0].value,o=parseInt(d.children[1].value);if(void 0!==a[u])return void alert("Du hast einen Skill mehrmals ausgewählt!");a[u]=o,s+=o}}catch(e){l.e(e)}finally{l.f()}s>e.boni[e.curLevelIndex].skills?alert("Du hast ".concat(s-e.boni[e.curLevelIndex].skills," Punkte zu viel verteilt")):(t.setSkillBoni(e.name,a),i.remove())})),s.appendChild(d);var u=document.createElement("p");u.innerText="Die Stufe des Vorteils gewährt dir ".concat(e.boni[e.curLevelIndex].skills," Punkte, welche du auf Kampffertigkeiten verteilen kannst."),a.appendChild(u);var c=document.createElement("ul");c.classList.add("create__boni-list"),a.appendChild(c);var o=document.createElement("button");o.classList.add("button"),o.innerText="Fertigkeit hinzufügen",o.addEventListener("click",(function(e){e.preventDefault();var n=document.createElement("li");c.appendChild(n);var i=document.createElement("select");i.setAttribute("class","select create__boni-selector"),n.appendChild(i);var r,a=L(t.advantagesModule.skillsModule.list.filter((function(e){return e.fight})));try{for(a.s();!(r=a.n()).done;){var s=r.value,l=document.createElement("option");l.setAttribute("value",s.id),l.innerText=s.name,i.appendChild(l)}}catch(e){a.e(e)}finally{a.f()}var d=document.createElement("input");d.setAttribute("type","number"),d.setAttribute("class","inputField create__boni-input"),n.appendChild(d);var u=document.createElement("button");u.setAttribute("class","button create__boni-delete"),u.innerText="Entfernen",u.addEventListener("click",(function(e){e.preventDefault(),n.remove()})),n.appendChild(u)})),a.appendChild(o)}}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,a=[],s=!0,l=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);s=!0);}catch(e){l=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(l)throw r}}return a}}(e,t)||D(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=D(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function D(e,t){if(e){if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Z(e,t):void 0}}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function W(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var K=function(){function e(n){var i=this;G(this,e),this.list=[],this.xp=0,this.boni={asp:0,gup:0,kap:0,rs:0,ini:0,ws:0,mr:0,gs:0,sb:0},this.events=new(t()),this.events.on("change",(function(){i.xp=0;for(var e=0,t=Object.keys(i.boni);e<t.length;e++){var n=t[e];i.boni[n]=0}var r,a=B(i.list);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(Array.isArray(s.xp)?i.xp+=s.xp[s.curLevelIndex]:i.xp+=s.xp,void 0!==s.boni)for(var l=0,d=Object.entries(s.boni);l<d.length;l++){var u=M(d[l],2),c=u[0],o=u[1];Array.isArray(o)?i.boni[c]+=s.boni[c][s.curLevelIndex]:i.boni[c]+=o}}}catch(e){a.e(e)}finally{a.f()}document.getElementById("mainAdvantages-xp").innerText="xp: ".concat(i.xp),i.advantagesModule.events.emit("change")})),this.advantagesModule=n,document.getElementById("mainAdvantages-add").addEventListener("click",(function(e){e.preventDefault(),document.getElementById("body").appendChild(function(e){var t=document.createElement("div"),n=document.createElement("div");n.classList.add("popup-bg"),t.appendChild(n);var i=document.createElement("div");i.classList.add("popup"),t.appendChild(i);var r=document.createElement("div");r.classList.add("popup-header"),i.appendChild(r);var a=document.createElement("h2");a.classList.add("popup-heading"),a.innerText="Vorteil hinzufügen:",r.appendChild(a);var s=document.createElement("a");s.setAttribute("href","#"),s.setAttribute("class","popup-close"),s.innerText="X",s.addEventListener("click",(function(e){e.preventDefault(),t.remove()})),r.appendChild(s);var l=document.createElement("div");l.classList.add("selection"),i.appendChild(l);var d=document.createElement("div");d.classList.add("newAdvantage__searchSelection"),l.appendChild(d);var u=document.createElement("h3");u.setAttribute("class","searchSelect selection-heading"),u.innerText="Auswahl",u.addEventListener("click",(function(){l.classList.remove("create"),l.classList.add("selection")})),d.appendChild(u);var c=document.createElement("h3");c.setAttribute("class","searchSelect create-heading"),c.innerText="Eigenes",c.addEventListener("click",(function(){l.classList.remove("selection"),l.classList.add("create")})),d.appendChild(c);var o=document.createElement("div");o.classList.add("selection-content"),l.appendChild(o);var h=document.createElement("p");h.innerText="Solltest du dein Vorteil nicht finden, kannst du ihn einfach selber erstellen!",o.appendChild(h);var p=document.createElement("div");p.classList.add("selection__searchField-container"),o.appendChild(p);var m=document.createElement("label");m.setAttribute("for","searchField-input"),m.classList.add("selection__searchField-label"),m.innerText="Suche: ",p.appendChild(m);var v=document.createElement("input");v.setAttribute("type","text"),v.setAttribute("id","searchField-input"),v.classList.add("selection__searchField-input"),v.addEventListener("keydown",(function(){f.innerHTML="";var n=I.DH.filter((function(e){return e.name.toLowerCase().includes(v.value.toLowerCase())})),i=function(i){if(i>=10)return"break";var r=document.createElement("li");r.classList.add("closed"),f.appendChild(r);var a=document.createElement("h4");a.innerText=n[i].name,a.addEventListener("click",(function(){r.classList.contains("closed")?(r.classList.remove("closed"),r.classList.add("opened")):(r.classList.remove("opened"),r.classList.add("closed"))})),r.appendChild(a);var s=document.createElement("div");s.classList.add("selection__searchResult-content"),r.appendChild(s);var l=document.createElement("p");if(l.innerText=n[i].description,s.appendChild(l),void 0!==n[i].level){var d=document.createElement("div");s.appendChild(d);var u=document.createElement("li");u.innerText="Stufe: ",d.appendChild(u);var c=document.createElement("select");c.classList.add("select"),d.appendChild(c);var o,h=L(n[i].level);try{for(h.s();!(o=h.n()).done;){var p=o.value,m=document.createElement("option");m.setAttribute("value",p),m.innerText=p,c.appendChild(m)}}catch(e){h.e(e)}finally{h.f()}var v=document.createElement("button");v.classList.add("button"),v.innerText="Hinzufügen",v.addEventListener("click",(function(n){n.preventDefault();var i=a.innerText,r=c.value;e.addExistingAdvantage(i,r),t.remove()})),s.appendChild(v)}else{var g=document.createElement("button");g.classList.add("button"),g.innerText="Hinzufügen",g.addEventListener("click",(function(n){n.preventDefault();var i=a.innerText;e.addExistingAdvantage(i),t.remove()})),s.appendChild(g)}};for(var r in n)if("break"===i(r))break})),p.appendChild(v);var f=document.createElement("ul");f.classList.add("selection__searchResults-list"),o.appendChild(f);var g=document.createElement("div");g.classList.add("create-content"),l.appendChild(g);var b=document.createElement("div");b.classList.add("create__flex"),g.appendChild(b);var k=document.createElement("label");k.innerText="Name: ",b.appendChild(k);var E=document.createElement("input");E.setAttribute("class","inputField create__inputName"),E.setAttribute("type","text"),b.appendChild(E);var x=document.createElement("div");x.classList.add("create__textarea-container"),g.appendChild(x);var w=document.createElement("label");w.innerText="Beschreibung: ",x.appendChild(w);var A=document.createElement("textarea");A.setAttribute("class","inputField create__textarea"),x.appendChild(A);var y=document.createElement("div");y.classList.add("create__flex"),g.appendChild(y);var S=document.createElement("label");S.innerText="XP: ",y.appendChild(S);var C=document.createElement("input");C.setAttribute("class","inputField create__inputXP"),C.setAttribute("type","number"),y.appendChild(C);var T=document.createElement("div");T.classList.add("create__boni-container"),g.appendChild(T);var _=document.createElement("h4");_.classList.add("create__boni-heading"),_.innerText="Boni: ",T.appendChild(_);var z=document.createElement("p");z.classList.add("create__boni-tipp"),z.innerText="Die eingetragene Zahl wird dem entsprechenden dazuaddiert.",T.appendChild(z);var V=document.createElement("ul");V.classList.add("create__boni-list"),T.appendChild(V);var P=document.createElement("button");P.setAttribute("class","button create__boni-add"),P.innerText="Boni hinzufügen",P.addEventListener("click",(function(e){e.preventDefault();var t=document.createElement("li");V.appendChild(t);var n=document.createElement("select");n.setAttribute("class","select create__boni-selector"),t.appendChild(n);var i,r=L(I.QW);try{for(r.s();!(i=r.n()).done;){var a=i.value,s=document.createElement("option");s.setAttribute("value",a.id),s.innerText=a.name,n.appendChild(s)}}catch(e){r.e(e)}finally{r.f()}var l=document.createElement("input");l.setAttribute("type","number"),l.setAttribute("class","inputField create__boni-input"),t.appendChild(l);var d=document.createElement("button");d.setAttribute("class","button create__boni-delete"),d.innerText="Entfernen",d.addEventListener("click",(function(e){e.preventDefault(),t.remove()})),t.appendChild(d)})),T.appendChild(P);var M=document.createElement("button");return M.setAttribute("class","button create__advantage-add"),M.innerText="Vorteil erstellen",M.addEventListener("click",(function(n){if(n.preventDefault(),""!==E.value)if(""!==C.value)if(""!==A.value){var i=E.value,r=A.value,a=parseInt(C.value),s=void 0;if(0!==V.children.length){s={};var l,d=L(V.children);try{for(d.s();!(l=d.n()).done;){var u=l.value,c=u.children[0].value,o=parseInt(u.children[1].value);s[c]=o}}catch(e){d.e(e)}finally{d.f()}}e.addNewAdvantage(i,r,a,s),t.remove()}else alert("Bitte eine Beschreibung hinzufügen!");else alert("Bitte einen Wert für die XP einfügen!");else alert("Bitte einen Namen eingeben!")})),g.appendChild(M),t}(i))}))}return W(e,[{key:"addExistingAdvantage",value:function(e,t){var n,i=B(this.list);try{for(i.s();!(n=i.n()).done;)if(n.value.name===e)return void alert("Vorteil mit diesem Namen bereits vorhanden")}catch(e){i.e(e)}finally{i.f()}var r=I.DH.find((function(t){return t.name===e})),a={existed:!0};if(void 0!==r.level){if(void 0===t)return void alert("Internal Error: Erstelle den Vorteil bitte manuell");a.curLevelIndex=r.level.findIndex((function(e){return e===t}))}for(var s=0,l=Object.entries(r);s<l.length;s++){var d=M(l[s],2),u=d[0],c=d[1];if(Array.isArray(c)&&void 0===a.curLevelIndex)return void alert("Internal Error: Erstelle den Vorteil bitte manuell");a[u]=c}this.list.push(a),this.events.emit("change"),T(a,this)}},{key:"addNewAdvantage",value:function(e,t,n,i){var r,a=B(this.list);try{for(a.s();!(r=a.n()).done;)if(r.value.name===e)return void alert("Vorteil mit diesem Namen bereits vorhanden")}catch(e){a.e(e)}finally{a.f()}var s={name:e,description:t,xp:n,existed:!1};if(void 0!==i){s.boni={};for(var l=0,d=Object.entries(i);l<d.length;l++){var u=M(d[l],2),c=u[0],o=u[1];s.boni[c]=o}}this.list.push(s),this.events.emit("change"),T(s,this)}},{key:"deleteAdvantage",value:function(e){var t=this.list.findIndex((function(t){return t.name===e}));-1!==t?(this.list.splice(t,1),this.events.emit("change")):alert("Vorteil nicht gefunden")}},{key:"editAdvantageLevel",value:function(e,t){var n=this.list.find((function(t){return t.name===e}));void 0!==n.level?(n.curLevelIndex=n.level.findIndex((function(e){return e===t})),this.events.emit("change")):alert("Der Vorteil verfügt nicht über verschiedene Stufen")}}]),e}(),N=function(){function e(n){var i=this;G(this,e),this.list=[],this.xp=0,this.boni={asp:0,gup:0,kap:0,rs:0,ini:0,ws:0,mr:0,gs:0,sb:0},this.events=new(t()),this.events.on("change",(function(){i.xp=0;for(var e=0,t=Object.keys(i.boni);e<t.length;e++){var n=t[e];i.boni[n]=0}var r,a=B(i.list);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(i.xp+=s.xp,void 0!==s.boni)for(var l=0,d=Object.entries(s.boni);l<d.length;l++){var u=M(d[l],2),c=u[0],o=u[1];if(o instanceof Object){var h=Math.round(i.advantagesModule.attributesModule.getAttrValue(o.attribute)/o.divider);i.boni[c]+=h}else i.boni[c]+=o}}}catch(e){a.e(e)}finally{a.f()}document.getElementById("profanAdvantages-xp").innerText="xp: ".concat(i.xp),i.advantagesModule.events.emit("change")})),this.advantagesModule=n,document.getElementById("profanAdvantages-add").addEventListener("click",(function(e){e.preventDefault(),document.getElementById("body").appendChild(function(e){var t=document.createElement("div"),n=document.createElement("div");n.classList.add("popup-bg"),t.appendChild(n);var i=document.createElement("div");i.classList.add("popup"),t.appendChild(i);var r=document.createElement("div");r.classList.add("popup-header"),i.appendChild(r);var a=document.createElement("h2");a.classList.add("popup-heading"),a.innerText="Vorteil hinzufügen:",r.appendChild(a);var s=document.createElement("a");s.setAttribute("href","#"),s.setAttribute("class","popup-close"),s.innerText="X",s.addEventListener("click",(function(e){e.preventDefault(),t.remove()})),r.appendChild(s);var l=document.createElement("div");l.classList.add("selection"),i.appendChild(l);var d=document.createElement("div");d.classList.add("newAdvantage__searchSelection"),l.appendChild(d);var u=document.createElement("h3");u.setAttribute("class","searchSelect selection-heading"),u.innerText="Auswahl",u.addEventListener("click",(function(){l.classList.remove("create"),l.classList.add("selection")})),d.appendChild(u);var c=document.createElement("h3");c.setAttribute("class","searchSelect create-heading"),c.innerText="Eigenes",c.addEventListener("click",(function(){l.classList.remove("selection"),l.classList.add("create")})),d.appendChild(c);var o=document.createElement("div");o.classList.add("selection-content"),l.appendChild(o);var h=document.createElement("p");h.innerText="Solltest du dein Vorteil nicht finden, kannst du ihn einfach selber erstellen!",o.appendChild(h);var p=document.createElement("div");p.classList.add("selection__searchField-container"),o.appendChild(p);var m=document.createElement("label");m.setAttribute("for","searchField-input"),m.classList.add("selection__searchField-label"),m.innerText="Suche: ",p.appendChild(m);var v=document.createElement("input");v.setAttribute("type","text"),v.setAttribute("id","searchField-input"),v.classList.add("selection__searchField-input"),v.addEventListener("keydown",(function(){f.innerHTML="";var n=I.UR.filter((function(e){return e.name.toLowerCase().includes(v.value.toLowerCase())})),i=function(i){if(i>=10)return"break";var r=document.createElement("li");r.classList.add("closed"),f.appendChild(r);var a=document.createElement("h4");a.innerText=n[i].name,a.addEventListener("click",(function(){r.classList.contains("closed")?(r.classList.remove("closed"),r.classList.add("opened")):(r.classList.remove("opened"),r.classList.add("closed"))})),r.appendChild(a);var s=document.createElement("div");s.classList.add("selection__searchResult-content"),r.appendChild(s);var l=document.createElement("p");l.innerText=n[i].description,s.appendChild(l);var d=document.createElement("button");d.classList.add("button"),d.innerText="Hinzufügen",d.addEventListener("click",(function(n){n.preventDefault();var i=a.innerText;e.addExistingAdvantage(i),t.remove()})),s.appendChild(d)};for(var r in n)if("break"===i(r))break})),p.appendChild(v);var f=document.createElement("ul");f.classList.add("selection__searchResults-list"),o.appendChild(f);var g=document.createElement("div");g.classList.add("create-content"),l.appendChild(g);var b=document.createElement("div");b.classList.add("create__flex"),g.appendChild(b);var k=document.createElement("label");k.innerText="Name: ",b.appendChild(k);var E=document.createElement("input");E.setAttribute("class","inputField create__inputName"),E.setAttribute("type","text"),b.appendChild(E);var x=document.createElement("div");x.classList.add("create__textarea-container"),g.appendChild(x);var w=document.createElement("label");w.innerText="Beschreibung: ",x.appendChild(w);var A=document.createElement("textarea");A.setAttribute("class","inputField create__textarea"),x.appendChild(A);var y=document.createElement("div");y.classList.add("create__flex"),g.appendChild(y);var S=document.createElement("label");S.innerText="XP: ",y.appendChild(S);var C=document.createElement("input");C.setAttribute("class","inputField create__inputXP"),C.setAttribute("type","number"),y.appendChild(C);var T=document.createElement("div");T.classList.add("create__boni-container"),g.appendChild(T);var _=document.createElement("h4");_.classList.add("create__boni-heading"),_.innerText="Boni: ",T.appendChild(_);var z=document.createElement("p");z.classList.add("create__boni-tipp"),z.innerText="Die eingetragene Zahl wird dem entsprechenden dazuaddiert.",T.appendChild(z);var V=document.createElement("ul");V.classList.add("create__boni-list"),T.appendChild(V);var P=document.createElement("button");P.setAttribute("class","button create__boni-add"),P.innerText="Boni hinzufügen",P.addEventListener("click",(function(e){e.preventDefault();var t=document.createElement("li");V.appendChild(t);var n=document.createElement("select");n.setAttribute("class","select create__boni-selector"),t.appendChild(n);var i,r=L(I.hX);try{for(r.s();!(i=r.n()).done;){var a=i.value,s=document.createElement("option");s.setAttribute("value",a.id),s.innerText=a.name,n.appendChild(s)}}catch(e){r.e(e)}finally{r.f()}var l=document.createElement("input");l.setAttribute("type","number"),l.setAttribute("class","inputField create__boni-input"),t.appendChild(l);var d=document.createElement("button");d.setAttribute("class","button create__boni-delete"),d.innerText="Entfernen",d.addEventListener("click",(function(e){e.preventDefault(),t.remove()})),t.appendChild(d)})),T.appendChild(P);var M=document.createElement("button");return M.setAttribute("class","button create__advantage-add"),M.innerText="Vorteil erstellen",M.addEventListener("click",(function(n){if(n.preventDefault(),""!==E.value)if(""!==C.value)if(""!==A.value){var i=E.value,r=A.value,a=parseInt(C.value),s=void 0;if(0!==V.children.length){s={};var l,d=L(V.children);try{for(d.s();!(l=d.n()).done;){var u=l.value,c=u.children[0].value,o=parseInt(u.children[1].value);s[c]=o}}catch(e){d.e(e)}finally{d.f()}}e.addNewAdvantage(i,r,a,s),t.remove()}else alert("Bitte eine Beschreibung hinzufügen!");else alert("Bitte einen Wert für die XP einfügen!");else alert("Bitte einen Namen eingeben!")})),g.appendChild(M),t}(i))}))}return W(e,[{key:"addExistingAdvantage",value:function(e){var t,n=B(this.list);try{for(n.s();!(t=n.n()).done;)if(t.value.name===e)return void alert("Vorteil mit diesem Namen bereits vorhanden")}catch(e){n.e(e)}finally{n.f()}var i=I.UR.find((function(t){return t.name===e}));this.advantagesModule.attributesModule.getAttrValue(i.attribute)<i.minValue?alert("Das entsprechende Attribut ist nicht hoch genug"):(this.list.push(i),_(i,this),this.events.emit("change"))}},{key:"addNewAdvantage",value:function(e,t,n,i){var r,a=B(this.list);try{for(a.s();!(r=a.n()).done;)if(r.value.name===e)return void alert("Vorteil mit diesem Namen bereits vorhanden")}catch(e){a.e(e)}finally{a.f()}var s={name:e,description:t,xp:n};if(void 0!==i){s.boni={};for(var l=0,d=Object.entries(i);l<d.length;l++){var u=M(d[l],2),c=u[0],o=u[1];s.boni[c]=o}}this.list.push(s),_(s,this),this.events.emit("change")}},{key:"deleteAdvantage",value:function(e){var t=this.list.findIndex((function(t){return t.name===e}));-1!==t?(this.list.splice(t,1),this.events.emit("change")):alert("Vorteil nicht gefunden")}}]),e}(),O=function(){function e(n){var i=this;G(this,e),this.list=[],this.xp=0,this.boni={asp:0,gup:0,kap:0,rs:0,ini:0,ws:0,mr:0,gs:0,sb:0},this.events=new(t()),this.events.on("change",(function(){i.xp=0;for(var e=0,t=Object.keys(i.boni);e<t.length;e++){var n=t[e];i.boni[n]=0}var r,a=B(i.list);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(i.xp+=s.xp,void 0!==s.boni)for(var l=0,d=Object.entries(s.boni);l<d.length;l++){var u=M(d[l],2),c=u[0],o=u[1];i.boni[c]+=o}}}catch(e){a.e(e)}finally{a.f()}document.getElementById("fightAdvAdvantages-xp").innerText="xp: ".concat(i.xp),i.advantagesModule.events.emit("change")})),this.advantagesModule=n,document.getElementById("fightAdvAdvantages-add").addEventListener("click",(function(e){e.preventDefault(),document.getElementById("body").appendChild(function(e){var t=document.createElement("div"),n=document.createElement("div");n.classList.add("popup-bg"),t.appendChild(n);var i=document.createElement("div");i.classList.add("popup"),t.appendChild(i);var r=document.createElement("div");r.classList.add("popup-header"),i.appendChild(r);var a=document.createElement("h2");a.classList.add("popup-heading"),a.innerText="Vorteil hinzufügen:",r.appendChild(a);var s=document.createElement("a");s.setAttribute("href","#"),s.setAttribute("class","popup-close"),s.innerText="X",s.addEventListener("click",(function(e){e.preventDefault(),t.remove()})),r.appendChild(s);var l=document.createElement("div");l.classList.add("selection"),i.appendChild(l);var d=document.createElement("div");d.classList.add("newAdvantage__searchSelection"),l.appendChild(d);var u=document.createElement("h3");u.setAttribute("class","searchSelect selection-heading"),u.innerText="Auswahl",u.addEventListener("click",(function(){l.classList.remove("create"),l.classList.add("selection")})),d.appendChild(u);var c=document.createElement("h3");c.setAttribute("class","searchSelect create-heading"),c.innerText="Eigenes",c.addEventListener("click",(function(){l.classList.remove("selection"),l.classList.add("create")})),d.appendChild(c);var o=document.createElement("div");o.classList.add("selection-content"),l.appendChild(o);var h=document.createElement("p");h.innerText="Solltest du dein Vorteil nicht finden, kannst du ihn einfach selber erstellen!",o.appendChild(h);var p=document.createElement("div");p.classList.add("selection__searchField-container"),o.appendChild(p);var m=document.createElement("label");m.setAttribute("for","searchField-input"),m.classList.add("selection__searchField-label"),m.innerText="Suche: ",p.appendChild(m);var v=document.createElement("input");v.setAttribute("type","text"),v.setAttribute("id","searchField-input"),v.classList.add("selection__searchField-input"),v.addEventListener("keydown",(function(){f.innerHTML="";var n=I.SJ.filter((function(e){return e.name.toLowerCase().includes(v.value.toLowerCase())})),i=function(i){if(i>=10)return"break";var r=document.createElement("li");r.classList.add("closed"),f.appendChild(r);var a=document.createElement("h4");a.innerText=n[i].name,a.addEventListener("click",(function(){r.classList.contains("closed")?(r.classList.remove("closed"),r.classList.add("opened")):(r.classList.remove("opened"),r.classList.add("closed"))})),r.appendChild(a);var s=document.createElement("div");s.classList.add("selection__searchResult-content"),r.appendChild(s);var l=document.createElement("p");l.innerText=n[i].description,s.appendChild(l);var d=document.createElement("button");d.classList.add("button"),d.innerText="Hinzufügen",d.addEventListener("click",(function(n){n.preventDefault();var i=a.innerText;e.addExistingAdvantage(i),t.remove()})),s.appendChild(d)};for(var r in n)if("break"===i(r))break})),p.appendChild(v);var f=document.createElement("ul");f.classList.add("selection__searchResults-list"),o.appendChild(f);var g=document.createElement("div");g.classList.add("create-content"),l.appendChild(g);var b=document.createElement("div");b.classList.add("create__flex"),g.appendChild(b);var k=document.createElement("label");k.innerText="Name: ",b.appendChild(k);var E=document.createElement("input");E.setAttribute("class","inputField create__inputName"),E.setAttribute("type","text"),b.appendChild(E);var x=document.createElement("div");x.classList.add("create__textarea-container"),g.appendChild(x);var w=document.createElement("label");w.innerText="Beschreibung: ",x.appendChild(w);var A=document.createElement("textarea");A.setAttribute("class","inputField create__textarea"),x.appendChild(A);var y=document.createElement("div");y.classList.add("create__flex"),g.appendChild(y);var S=document.createElement("label");S.innerText="XP: ",y.appendChild(S);var C=document.createElement("input");C.setAttribute("class","inputField create__inputXP"),C.setAttribute("type","number"),y.appendChild(C);var T=document.createElement("div");T.classList.add("create__boni-container"),g.appendChild(T);var _=document.createElement("h4");_.classList.add("create__boni-heading"),_.innerText="Boni: ",T.appendChild(_);var z=document.createElement("p");z.classList.add("create__boni-tipp"),z.innerText="Die eingetragene Zahl wird dem entsprechenden dazuaddiert.",T.appendChild(z);var V=document.createElement("ul");V.classList.add("create__boni-list"),T.appendChild(V);var P=document.createElement("button");P.setAttribute("class","button create__boni-add"),P.innerText="Boni hinzufügen",P.addEventListener("click",(function(e){e.preventDefault();var t=document.createElement("li");V.appendChild(t);var n=document.createElement("select");n.setAttribute("class","select create__boni-selector"),t.appendChild(n);var i,r=L(I.om);try{for(r.s();!(i=r.n()).done;){var a=i.value,s=document.createElement("option");s.setAttribute("value",a.id),s.innerText=a.name,n.appendChild(s)}}catch(e){r.e(e)}finally{r.f()}var l=document.createElement("input");l.setAttribute("type","number"),l.setAttribute("class","inputField create__boni-input"),t.appendChild(l);var d=document.createElement("button");d.setAttribute("class","button create__boni-delete"),d.innerText="Entfernen",d.addEventListener("click",(function(e){e.preventDefault(),t.remove()})),t.appendChild(d)})),T.appendChild(P);var M=document.createElement("button");return M.setAttribute("class","button create__advantage-add"),M.innerText="Vorteil erstellen",M.addEventListener("click",(function(n){if(n.preventDefault(),""!==E.value)if(""!==C.value)if(""!==A.value){var i=E.value,r=A.value,a=parseInt(C.value),s=void 0;if(0!==V.children.length){s={};var l,d=L(V.children);try{for(d.s();!(l=d.n()).done;){var u=l.value,c=u.children[0].value,o=parseInt(u.children[1].value);s[c]=o}}catch(e){d.e(e)}finally{d.f()}}e.addNewAdvantage(i,r,a,s),t.remove()}else alert("Bitte eine Beschreibung hinzufügen!");else alert("Bitte einen Wert für die XP einfügen!");else alert("Bitte einen Namen eingeben!")})),g.appendChild(M),t}(i))}))}return W(e,[{key:"addExistingAdvantage",value:function(e){var t,n=B(this.list);try{for(n.s();!(t=n.n()).done;)if(t.value.name===e)return void alert("Vorteil mit diesem Namen bereits vorhanden")}catch(e){n.e(e)}finally{n.f()}var i=I.SJ.find((function(t){return t.name===e}));this.advantagesModule.attributesModule.getAttrValue(i.attribute)<i.minValue?alert("Das entsprechende Attribut ist nicht hoch genug"):(this.list.push(i),z(i,this),this.events.emit("change"))}},{key:"addNewAdvantage",value:function(e,t,n,i){var r,a=B(this.list);try{for(a.s();!(r=a.n()).done;)if(r.value.name===e)return void alert("Vorteil mit diesem Namen bereits vorhanden")}catch(e){a.e(e)}finally{a.f()}var s={name:e,description:t,xp:n};if(void 0!==i){s.boni={};for(var l=0,d=Object.entries(i);l<d.length;l++){var u=M(d[l],2),c=u[0],o=u[1];s.boni[c]=o}}this.list.push(s),z(s,this),this.events.emit("change")}},{key:"deleteAdvantage",value:function(e){var t=this.list.findIndex((function(t){return t.name===e}));-1!==t?(this.list.splice(t,1),this.events.emit("change")):alert("Vorteil nicht gefunden")}}]),e}(),R=function(){function e(n){var i=this;G(this,e),this.list=[],this.xp=0,this.boni={skill:{}},this.events=new(t()),this.events.on("change",(function(){i.xp=0,i.boni={skill:{}};var e,t=B(i.list);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(void 0!==n.level){var r=n.curLevelIndex;if(i.xp+=n.xp[r],null===n.boni[r])continue;if(void 0===n.boni[r].skills||void 0===n.skill)continue;for(var a=0,s=Object.entries(n.skill);a<s.length;a++){var l=M(s[a],2),d=l[0],u=l[1];void 0===i.boni.skill[d]?i.boni.skill[d]=parseInt(u):i.boni.skill[d]+=parseInt(u)}}else{if(i.xp+=n.xp,void 0===n.skill)continue;for(var c=0,o=Object.entries(n.skill);c<o.length;c++){var h=M(o[c],2),p=h[0],m=h[1];void 0===i.boni.skill[p]?i.boni.skill[p]=parseInt(m):i.boni.skill[p]+=parseInt(m)}}}}catch(e){t.e(e)}finally{t.f()}document.getElementById("fightStyleAdvantages-xp").innerText="xp: ".concat(i.xp),i.advantagesModule.events.emit("change")})),this.advantagesModule=n,document.getElementById("fightStyleAdvantages-add").addEventListener("click",(function(e){e.preventDefault(),document.getElementById("body").appendChild(function(e){var t=document.createElement("div"),n=document.createElement("div");n.classList.add("popup-bg"),t.appendChild(n);var i=document.createElement("div");i.classList.add("popup"),t.appendChild(i);var r=document.createElement("div");r.classList.add("popup-header"),i.appendChild(r);var a=document.createElement("h2");a.classList.add("popup-heading"),a.innerText="Vorteil hinzufügen:",r.appendChild(a);var s=document.createElement("a");s.setAttribute("href","#"),s.setAttribute("class","popup-close"),s.innerText="X",s.addEventListener("click",(function(e){e.preventDefault(),t.remove()})),r.appendChild(s);var l=document.createElement("div");l.classList.add("selection"),i.appendChild(l);var d=document.createElement("div");d.classList.add("newAdvantage__searchSelection"),l.appendChild(d);var u=document.createElement("h3");u.setAttribute("class","searchSelect selection-heading"),u.innerText="Auswahl",u.addEventListener("click",(function(){l.classList.remove("create"),l.classList.add("selection")})),d.appendChild(u);var c=document.createElement("h3");c.setAttribute("class","searchSelect create-heading"),c.innerText="Eigenes",c.addEventListener("click",(function(){l.classList.remove("selection"),l.classList.add("create")})),d.appendChild(c);var o=document.createElement("div");o.classList.add("selection-content"),l.appendChild(o);var h=document.createElement("p");h.innerText="Solltest du dein Vorteil nicht finden, kannst du ihn einfach selber erstellen!",o.appendChild(h);var p=document.createElement("div");p.classList.add("selection__searchField-container"),o.appendChild(p);var m=document.createElement("label");m.setAttribute("for","searchField-input"),m.classList.add("selection__searchField-label"),m.innerText="Suche: ",p.appendChild(m);var v=document.createElement("input");v.setAttribute("type","text"),v.setAttribute("id","searchField-input"),v.classList.add("selection__searchField-input"),v.addEventListener("keydown",(function(){f.innerHTML="";var n=I.k0.filter((function(e){return e.name.toLowerCase().includes(v.value.toLowerCase())})),i=function(i){if(i>=10)return"break";var r=document.createElement("li");r.classList.add("closed"),f.appendChild(r);var a=document.createElement("h4");a.innerText=n[i].name,a.addEventListener("click",(function(){r.classList.contains("closed")?(r.classList.remove("closed"),r.classList.add("opened")):(r.classList.remove("opened"),r.classList.add("closed"))})),r.appendChild(a);var s=document.createElement("div");s.classList.add("selection__searchResult-content"),r.appendChild(s);var l=document.createElement("p");l.innerText=n[i].description,s.appendChild(l);var d=document.createElement("div");s.appendChild(d);var u=document.createElement("li");u.innerText="Stufe: ",d.appendChild(u);var c=document.createElement("select");c.classList.add("select"),d.appendChild(c);var o,h=L(n[i].level);try{for(h.s();!(o=h.n()).done;){var p=o.value,m=document.createElement("option");m.setAttribute("value",p),m.innerText=p,c.appendChild(m)}}catch(e){h.e(e)}finally{h.f()}var v=document.createElement("button");v.classList.add("button"),v.innerText="Hinzufügen",v.addEventListener("click",(function(n){n.preventDefault();var i=a.innerText,r=c.value;e.addExistingAdvantage(i,r),t.remove();var s=e.list.find((function(e){return e.name===i}));s.boni[s.curLevelIndex]instanceof Object&&P(s,e)})),s.appendChild(v)};for(var r in n)if("break"===i(r))break})),p.appendChild(v);var f=document.createElement("ul");f.classList.add("selection__searchResults-list"),o.appendChild(f);var g=document.createElement("div");g.classList.add("create-content"),l.appendChild(g);var b=document.createElement("div");b.classList.add("create__flex"),g.appendChild(b);var k=document.createElement("label");k.innerText="Name: ",b.appendChild(k);var E=document.createElement("input");E.setAttribute("class","inputField create__inputName"),E.setAttribute("type","text"),b.appendChild(E);var x=document.createElement("div");x.classList.add("create__textarea-container"),g.appendChild(x);var w=document.createElement("label");w.innerText="Beschreibung: ",x.appendChild(w);var A=document.createElement("textarea");A.setAttribute("class","inputField create__textarea"),x.appendChild(A);var y=document.createElement("div");y.classList.add("create__flex"),g.appendChild(y);var S=document.createElement("label");S.innerText="XP: ",y.appendChild(S);var C=document.createElement("input");C.setAttribute("class","inputField create__inputXP"),C.setAttribute("type","number"),y.appendChild(C);var T=document.createElement("div");T.classList.add("create__boni-container"),g.appendChild(T);var _=document.createElement("h4");_.classList.add("create__boni-heading"),_.innerText="Boni: ",T.appendChild(_);var z=document.createElement("p");z.classList.add("create__boni-tipp"),z.innerText="Die eingetragene Zahl wird dem entsprechenden dazuaddiert.",T.appendChild(z);var V=document.createElement("ul");V.classList.add("create__boni-list"),T.appendChild(V);var M=document.createElement("button");M.setAttribute("class","button create__boni-add"),M.innerText="Boni hinzufügen",M.addEventListener("click",(function(t){t.preventDefault();var n=document.createElement("li");V.appendChild(n);var i=document.createElement("select");i.setAttribute("class","select create__boni-selector"),n.appendChild(i);var r,a=L(e.advantagesModule.skillsModule.list.filter((function(e){return e.fight})));try{for(a.s();!(r=a.n()).done;){var s=r.value,l=document.createElement("option");l.setAttribute("value",s.id),l.innerText=s.name,i.appendChild(l)}}catch(e){a.e(e)}finally{a.f()}var d=document.createElement("input");d.setAttribute("type","number"),d.setAttribute("class","inputField create__boni-input"),n.appendChild(d);var u=document.createElement("button");u.setAttribute("class","button create__boni-delete"),u.innerText="Entfernen",u.addEventListener("click",(function(e){e.preventDefault(),n.remove()})),n.appendChild(u)})),T.appendChild(M);var B=document.createElement("button");return B.setAttribute("class","button create__advantage-add"),B.innerText="Vorteil erstellen",B.addEventListener("click",(function(n){if(n.preventDefault(),""!==E.value)if(""!==C.value)if(""!==A.value){var i=E.value,r=A.value,a=parseInt(C.value),s=void 0;if(0!==V.children.length){s={};var l,d=L(V.children);try{for(d.s();!(l=d.n()).done;){var u=l.value,c=u.children[0].value,o=parseInt(u.children[1].value);s[c]=o}}catch(e){d.e(e)}finally{d.f()}}e.addNewAdvantage(i,r,a,s),t.remove()}else alert("Bitte eine Beschreibung hinzufügen!");else alert("Bitte einen Wert für die XP einfügen!");else alert("Bitte einen Namen eingeben!")})),g.appendChild(B),t}(i))}))}return W(e,[{key:"addExistingAdvantage",value:function(e,t,n){var i,r=B(this.list);try{for(r.s();!(i=r.n()).done;)if(i.value.name===e)return void alert("Vorteil mit diesem Namen bereits vorhanden")}catch(e){r.e(e)}finally{r.f()}var a=I.k0.find((function(t){return t.name===e})),s={existed:!0};s.curLevelIndex=a.level.findIndex((function(e){return e===t}));for(var l=0,d=Object.entries(a);l<d.length;l++){var u=M(d[l],2),c=u[0],o=u[1];s[c]=o}if(this.advantagesModule.attributesModule.getAttrValue(s.attribute)<s.minValue[s.curLevelIndex])alert("Das Attribut ".concat(s.attribute.toUpperCase()," ist nicht hoch genug!"));else{if("IV"===t){var h=this.advantagesModule.attributesModule.list.filter((function(e){return e.id!==s.attribute})).map((function(e){return e.value})).sort((function(e,t){return t-e}));h[0]+h[1]<16&&alert("Zwei weitere Attribute müssen mindestens 16 ergeben!")}if(s.boni[s.curLevelIndex]instanceof Object){s.skill={},void 0!==n&&(s.skill=n);for(var p=0,m=0,v=Object.values(s.skill);m<v.length;m++)p+=v[m];if(p>s.boni[s.curLevelIndex].skills)return void alert("Maximal ".concat(s.boni[s.curLevelIndex].skill," Punkte verteilen"))}this.list.push(s),V(s,this),this.events.emit("change")}}},{key:"addNewAdvantage",value:function(e,t,n,i){var r,a=B(this.list);try{for(a.s();!(r=a.n()).done;)if(r.value.name===e)return void alert("Vorteil mit diesem Namen bereits vorhanden")}catch(e){a.e(e)}finally{a.f()}var s={name:e,description:t,xp:n,existed:!1};void 0!==i&&(s.skill=i),this.list.push(s),V(s,this),this.events.emit("change")}},{key:"deleteAdvantage",value:function(e){var t=this.list.findIndex((function(t){return t.name===e}));-1!==t?(this.list.splice(t,1),this.events.emit("change")):alert("Vorteil nicht gefunden")}},{key:"editAdvantageLevel",value:function(e,t){var n=this.list.find((function(t){return t.name===e}));void 0!==n.level?(n.skill=void 0,n.curLevelIndex=n.level.findIndex((function(e){return e===t})),n.boni[n.curLevelIndex]instanceof Object&&P(n,this),this.events.emit("change")):alert("Der Vorteil verfügt nicht über verschiedene Stufen")}},{key:"setSkillBoni",value:function(e,t){this.list.find((function(t){return t.name===e})).skill=t,this.events.emit("change")}}]),e}(),H=W((function e(n,i){var r=this;G(this,e),this.list={main:new K(this),profan:new N(this),fightAdv:new O(this),fightStyle:new R(this)},this.boni={derivedValues:{asp:0,gup:0,kap:0,rs:0,ini:0,ws:0,mr:0,gs:0,sb:0},skill:{}},this.xp=0,this.attributesModule=n,this.skillsModule=i,this.events=new(t()),this.events.on("change",(function(){r.xp=r.list.main.xp+r.list.profan.xp+r.list.fightAdv.xp+r.list.fightStyle.xp,r.boni.derivedValues={asp:0,gup:0,kap:0,rs:0,ini:0,ws:0,mr:0,gs:0,sb:0};for(var e=0,t=Object.entries(r.list.main.boni);e<t.length;e++){var n=M(t[e],2),i=n[0],a=n[1];r.boni.derivedValues[i]+=parseInt(a)}for(var s=0,l=Object.entries(r.list.profan.boni);s<l.length;s++){var d=M(l[s],2),u=d[0],c=d[1];r.boni.derivedValues[u]+=parseInt(c)}for(var o=0,h=Object.entries(r.list.fightAdv.boni);o<h.length;o++){var p=M(h[o],2),m=p[0],v=p[1];r.boni.derivedValues[m]+=parseInt(v)}r.boni.skill=r.list.fightStyle.boni.skill,r.skillsModule.setSkillBoni(r.boni.skill),document.getElementById("advantages-xp").innerText="xp: ".concat(r.xp)}))}));function j(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function U(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var X=U((function e(n,i){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.values={ini:0,ws:0,mr:0,gs:0,sb:0},this.attributesModule=n,this.advantagesModule=i,this.events=new(t()),this.events.on("change",(function(){r.values.ws=4+Math.floor(r.attributesModule.getAttrValue("ko")/4)+r.advantagesModule.boni.derivedValues.ws,document.getElementById("ws").innerText=r.values.ws,r.values.mr=4+Math.floor(r.attributesModule.getAttrValue("mu")/4)+r.advantagesModule.boni.derivedValues.mr,document.getElementById("mr").innerText=r.values.mr,r.values.gs=4+Math.floor(r.attributesModule.getAttrValue("ge")/4)+r.advantagesModule.boni.derivedValues.gs,document.getElementById("gs").innerText=r.values.gs,r.values.ini=r.attributesModule.getAttrValue("in")+r.advantagesModule.boni.derivedValues.ini,document.getElementById("ini").innerText=r.values.ini,r.values.sb=Math.floor(r.attributesModule.getAttrValue("kk")/4)+r.advantagesModule.boni.derivedValues.sb,document.getElementById("sb").innerText=r.values.sb})),this.events.emit("change")}));function J(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var $=function(){function t(n,i,r,a){var s=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.available=0,this.events=new e.EventEmitter,this.events.on("change",(function(){document.getElementById("xp-input").value=s.available;var e=n.xp+i.xp+r.xp+a.xp;document.getElementById("xp-consumed").innerText=e;var t=s.available-e,l=document.getElementById("xp-rest");l.innerText=t,l.style.color=t<0?"red":"#3d251e"})),this.events.emit("change");var l=document.getElementById("xp-input");l.addEventListener("change",(function(){var e=l.value;""===e&&(e=0),s.setAvailableXP(parseInt(e)),s.events.emit("change")}))}var n,i;return n=t,(i=[{key:"setAvailableXP",value:function(e){this.available=e}}])&&J(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),t}();const Q=JSON.parse('{"mageAdvantages":[{"name":"Bändiger der Elemente","description":"Bei Elementaren sinkt die Erschwernis für schwierige und anmaßende Dienste (S. 81) um eine Stufe.","attribute":"ch","minValue":4,"xp":20},{"name":"Meister der Wünsche","description":"Wann immer ein gebundenes Elementar (S. 81) einen Dienst erfüllt hat, kannst du für die Hälfte der Basisbeschwörungskosten einen zusätzlichen Dienst erbitten.","attribute":"ch","minValue":6,"xp":40},{"name":"Gefäß der Sterne","description":"Deine maximale Astralenergie steigt um 4 + CH Punkte. (Solltest du nach dem Erwerb des Vorteils dein CH erhöhen, erhöht das auch deine Astralenergie.)","attribute":"ch","minValue":8,"xp":60},{"name":"Gebieter der Urgewalten","description":"Gebundene Elementare (S. 81) kosten nur noch die halben gAsP und eine misslungene Beherrschungsprobe kann einmal für die Hälfte der Beschwörungskosten wiederholt werden.","attribute":"ch","minValue":10,"xp":80},{"name":"Reaktivierung","description":"Du kannst wieder aufladbare Artefakte erschaffen und reaktivieren (S. 78).","attribute":"ff","minValue":4,"xp":20},{"name":"Matrixverständnis","description":"Der erste wirkende Zauber, der bei der Artefakterschaffung misslingt, darf einmal wiederholt werden. Bei Strukturanalysen (S. 80) erhältst du einen zusätzlichen Analysegrad, wenn der gewertete Würfel eine 12 oder höher zeigt.","attribute":"ff","minValue":6,"xp":40},{"name":"Semipermanenz","description":"Du kannst semipermanente Artefakte erschaffen (S. 78).","attribute":"ff","minValue":8,"xp":60},{"name":"Thaumatrug","description":"Artefakte kosten nur die halben gAsP. Außerdem können Thaumaturgen weitere Vorteile zur Artefaktherstellung nutzen: Mit Kraftlinienmagie kannst du ortsgebundene Artefakte erschaffen, deren gAsP von der Kraftlinie gespeist werden. Mit Meister der Wünsche/Meister der Seelenlosen kannst du Elementare/Dämonen in Artefakte binden. Beim Auslösen solcher Artefakte ist keine Beherrschungsprobe nötig, solange diese nicht schwieriger wäre als die vom Erschaffer abgelegte Beherrschungsprobe (z.B. durch einen schwierigen Dienst).","attribute":"ff","minValue":10,"xp":80},{"name":"Unitatio","description":"Du kannst Zauber gemeinsam mit anderen Kennern des Vorteils wirken (S. 78).","attribute":"in","minValue":4,"xp":20},{"name":"Flexible Magie","description":"Während du einen Zauber vorbereitest, kannst dich mit einer Erschwernis von –4 verteidigen.","attribute":"in","minValue":6,"xp":40},{"name":"Mühelose Magie","description":"Zeigt der gewertete Würfel bei einem Zauber eine 16 oder höher, erhält der Zauber eine zusätzliche Stufe Mächtige Magie. Außerdem erhältst du die Hälfte der AsP zurück, die du für den Zauber bezahlt hast.","attribute":"in","minValue":8,"xp":60},{"name":"Flinke Magie","description":"Einmal pro Initiativphase kannst du eine Zauberprobe in einer Freien Aktion statt einer Aktion Konflikt durchführen.","attribute":"in","minValue":10,"xp":80},{"name":"Kontrolliertes Zaubern","description":"Du kannst deine Zauber während ihrer Wirkungsdauer jederzeit beenden.","attribute":"kl","minValue":4,"xp":20},{"name":"Kraftlinienmagie","description":"An Kraftlinien oder -knoten sind Zauber mit passenden Fertigkeiten je nach Linienstärke um +2 bis +4 erleichtert und die Regeneration ist um 2–4 AsP erhöht.","attribute":"kl","minValue":6,"xp":40},{"name":"Effizientes Zaubern","description":"Ermöglicht die spontane Modifikation Kosten sparen (S. 71).","attribute":"kl","minValue":8,"xp":60},{"name":"Vorbereitendes Zaubern","description":"Zwischen dem Vorbereiten eines Zaubers und der Aktion Konflikt dürfen bis zu KL Minuten liegen. Danach gilt der Zauber als fehlgeschlagen. Ein Ziel in Reichweite wird erst in der Aktion Konflikt ausgewählt. Du kannst nur einen Zauber in Vorbereitung halten.","attribute":"kl","minValue":10,"xp":80},{"name":"Astrale Regeneration","description":"Du regenerierst 1 zusätzlichen AsP pro Nacht.","attribute":"ko","minValue":4,"xp":20},{"name":"Verbotene Pforten","description":"Du kannst mit deiner Lebenskraft zaubern, wenn du über zu wenige AsP verfügst (S. 78).","attribute":"ko","minValue":6,"xp":40},{"name":"Verbesserte astrale Regeneration","description":"Du regenerierst 2 weitere, zusätzliche AsP pro Nacht.","attribute":"ko","minValue":8,"xp":60},{"name":"Meisterliche astrale Regeneration","description":"Du regenerierst 3 weitere, zusätzliche AsP pro Nacht.","attribute":"ko","minValue":10,"xp":80},{"name":"Bändiger der Kreaturen","description":"Du kannst von dir beschworenen unheiligen Wesenheiten (S. 81) zusätzliche Fähigkeiten im Wert von 4 Punkten verleihen.","attribute":"mu","minValue":4,"xp":20},{"name":"Meister der Seelenlosen","description":"Wann immer ein gebundenes unheiliges Wesen (S. 81) seinen Dienst erfüllt hat, kannst du für die Hälfte der Basisbeschwörungskosten einen zusätzlichen Dienst erbitten.","attribute":"mu","minValue":6,"xp":40},{"name":"Blutmagie","description":"Erlaubt den Einsatz von Blutmagie (S. 78).","attribute":"mu","minValue":8,"xp":60},{"name":"Gebieter der Finsternis","description":"Gebundene unheilige Wesenheiten (S. 81) kosten nur noch die halben gAsP und eine misslungene Beschwörungsprobe kann einmal für die Hälfte der Beschwörungskosten wiederholt werden.","attribute":"mu","minValue":10,"xp":80},{"name":"Tradition der Alchemisten","tradition":true,"description":"Bedingungen:\\nSichtkontakt, Geste, laut gesprochene Zauberformel\\n\\nStufe 1: Du kannst Zauber in der Tradition der Alchemisten erlernen und benutzen. Solche Zauber findest du unter den allgemeinen Zaubern und unter Schalenzauber (S. 171). Zauber der Fertigkeiten Einfluss, Verwandlung und Eigenschaften können nur in Form von Artefakten oder als „Zutat“ für Tränke verwendet werden.\\n\\nStufe 2:\\nAlchemistische Zauber sind fest in der stofflichen Welt verankert. Die Wirkungsdauer aller Zauber ist verdoppelt.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Zeit lassen (S. 71).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"mu","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Anach-nûrim","tradition":true,"description":"Bedingungen:\\nSichtkontakt, Geste\\n\\nStufe 1:\\nDu kannst Zauber in der Tradition der Anach-nûrim erlernen und benutzen. Solche Zauber findest du unter Gaben des Blutgeists (S. 159). Wenn du einen Zauber ohne Verbotene Pforten oder Blutmagie wirkst, ist er um -2 erschwert.\\n\\nStufe 2:\\nWenn du einen Zauber mit Verbotenen Pforten oder Blutmagie wirkst, kannst du eine Basismodifikation (z.B. 1x Mächtige Magie) ohne Erschwernis ausführen.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Erzwingen (S. 71).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"ko","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Borbaradianer","tradition":true,"description":"Bedingungen:\\nGeste, laut gesprochene Zauberformel\\n\\nDu kannst Zauber in der Tradition der Borbaradianer erlernen und benutzen. Solche Zauber findest du unter den allgemeinen Zaubern; wenn du nicht über ausreichend AsP verfügst, kannst du sie mit deiner Lebenskraft speisen (S. 78). Du kannst den Vorteil auch mit einem Minderpakt (S. 92) erwerben, ohne Zauberer zu sein.\\n\\nStufe 2:\\nBorbaradianische Zauber sind chaotisch und instabil. Du kannst Zauberproben mit 1W20 statt mit 3W20 ablegen. Dadurch verbessern sich deine Chancen bei besonders gewagten Zaubern.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Erzwingen (S. 71).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden. Du kannst 4 Punkte davon verwenden, um den Minderpakt zu brechen, ohne die borbaradianische Tradition zu verlieren.","level":["I","II","III","IV"],"attribute":"mu","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Derwische","tradition":true,"description":"Bedingungen:\\nSichtkontakt, Trommelspiel, nur Rashtillahgläubige profitieren von Zaubern\\n\\nStufe 1:\\nDu kannst Zauber in der Tradition der Derwische erlernen und benutzen. Solche Zauber findest du unter Trommelrituale (S. 172). Die Bedingung Trommelspiel kann nicht ignoriert werden.\\n\\nStufe 2:\\nDeine Rhythmen sind auf größere Entfernung hörbar. Alle deine Zauber mit dem Ziel Zone wirken auf alle Ziele im Umkreis von 8 Schritt (statt 4 Schritt).\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Opferung (S. 71): Du trommelst bis zur Entkräftung (2 Erschöpfung).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"ff","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Druiden","tradition":true,"description":"Bedingungen:\\nSichtkontakt, Geste, kein Kontakt mit verhüttetem Material\\n\\nStufe 1:\\nDu kannst Zauber in der Tradition der Druiden erlernen und benutzen. Solche Zauber findest du unter den allgemeinen Zaubern und unter Dolchzauber (S. 156). Druidische Zauber können nicht schriftlich weitergegeben werden.\\n\\nStufe 2:\\nDruiden wissen um Orte von besonderer Kraft. Auf Kraftlinien und -knoten, die sich auch in vielen Städten finden, sind alle druidische Zauber und Rituale um 2–4 Punkte erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Erzwingen (S. 71).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"kl","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Durro-Dûn","tradition":true,"description":"Bedingungen:\\nSichtkontakt, Geste\\n\\nStufe 1:\\nDu kannst Zauber in der Tradition der Durro-dûn erlernen und benutzen. Solche Zauber findest du unter Gaben des Odûn (S. 159). Du musst dich beim Erlernen für ein Tier entscheiden (siehe S. 158). Alle deine Zauber beziehen sich auf dieses Tier.\\n\\nStufe 2:\\nErfahrene Durro-dûn rufen die Tiergeister scheinbar mühelos in ihren Körper. Die Kosten aller Zauber, die du auf dich selbst wirkst, sinken um ein Viertel der Basiskosten.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Opferung (S. 71). Durro-dûn opfern ihr Blut (verursacht 1 Wunde).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"mu","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Elfen","tradition":true,"description":"Bedingungen:\\nSichtkontakt, Geste, gesungene oder gespielte Formel\\n\\nStufe 1:\\nDu kannst Zauber in der Tradition der Elfen erlernen und benutzen. Solche Zauber findest du unter den allgemeinen Zaubern und unter Elfenlieder (S. 158). In Umgebungen mit gestörter Harmonie (z.B. dämonische Verseuchung, Geisterscheinungen) sind Zauber um 2–4 Punkte erschwert.\\n\\nStufe 2:\\nElfen begreifen Magie als alltägliche Unterstützung ihrer Fähigkeiten. Die Wirkungsdauer deiner Zauber, die auf dich selbst wirken, ist verdoppelt.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Zeit lassen (S. 71).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"in","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Geoden","tradition":true,"description":"Bedingungen:\\nSichtkontakt, Geste, kein Kontakt mit verhüttetem Material\\n\\nStufe 1:\\nDu kannst Zauber in der Tradition der Geoden erlernen und benutzen. Solche Zauber findest du unter den allgemeinen Zaubern, unter Dolchzauber (S. 156), Ringrituale (S. 170) und Vertrautenmagie (S. 173). Du musst dich beim Erlernen für ein bevorzugtes Element entscheiden. Geodische Zauber können nicht schriftlich weitergegeben werden.\\n\\nStufe 2:\\nGeoden gelten als die fähigsten Elementaristen Aventuriens. Wenn du einen Zauber mit deinem bevorzugten Element wirkst, kannst du eine Basismodifikation (z.B. 1x Mächtige Magie) ohne Erschwernis ausführen.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Zeit lassen (S. 71).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"in","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Gildenmagier","tradition":true,"description":"Bedingungen:\\nSichtkontakt, Geste, laut gesprochene Zauberformel\\n\\nStufe 1:\\nDu kannst Zauber in der Tradition der Gildenmagier erlernen und benutzen. Solche Zauber findest du unter den allgemeinen Zaubern, unter Kugelzauber (S. 169), Schalenzauber (S. 171) und Stabzauber (S. 172). Wenn du beim Vorbereiten eines Zaubers gestört wirst, sind entsprechende Willenskraftproben um zusätzliche –4 erschwert.\\n\\nStufe 2:\\nGildenmagier verstehen die Matrix eines Zaubers und können ihn leichter verändern. Wenn du einen Zauber mit mindestens zwei unterschiedlichen Basismodifikationen wirkst, ist er zusätzlich um +2 erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Zeit lassen (S. 71).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"kl","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Hexen","tradition":true,"description":"Bedingungen:\\nSichtkontakt, Geste, Bodenkontakt\\n\\nStufe 1:\\nDu kannst Zauber in der Tradition der Hexen erlernen und benutzen. Solche Zauber findest du unter den allgemeinen Zaubern, unter Hexenflüche (S. 166), Schalenzauber (S. 171) und Vertrautenmagie (S. 173). Die Komponente Bodenkontakt kann nur ignoriert werden, wenn du zumindest über indirekten Bodenkontakt verfügst (z.B. in einem mehrstöckigen Haus).\\n\\nStufe 2:\\nFür Hexen gehören Gefühle und Magie untrennbar zusammen. Im Zustand besonders starker, zum Zauber passender Emotionen sind Zauber und Rituale um 2–4 Punkte erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Erzwingen (S. 71).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"in","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Hexen","tradition":true,"description":"Bedingungen:\\nSichtkontakt, Geste, Bodenkontakt\\n\\nStufe 1:\\nDu kannst Zauber in der Tradition der Hexen erlernen und benutzen. Solche Zauber findest du unter den allgemeinen Zaubern, unter Hexenflüche (S. 166), Schalenzauber (S. 171) und Vertrautenmagie (S. 173). Die Komponente Bodenkontakt kann nur ignoriert werden, wenn du zumindest über indirekten Bodenkontakt verfügst (z.B. in einem mehrstöckigen Haus).\\n\\nStufe 2:\\nFür Hexen gehören Gefühle und Magie untrennbar zusammen. Im Zustand besonders starker, zum Zauber passender Emotionen sind Zauber und Rituale um 2–4 Punkte erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Erzwingen (S. 71).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"in","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Kristallomanten","tradition":true,"description":"Bedingungen:\\nSichtkontakt, Geste, passender gebundener Kristall (S. 166)\\n\\nStufe 1:\\nDu kannst Zauber in der Tradition der Kristallomanten erlernen und benutzen. Solche Zauber findest du unter den allgemeinen Zaubern und unter Kristallmagie (S. 168). Wenn du einen Zauber mit der Modifikation Vorbereitung verkürzen wirkst, ist er zusätzlich um –2 erschwert.\\n\\nStufe 2:\\nDurch das Studium der Edelsteine gelten Kristallomanten als herausragende Artefaktmagier. Zauber zur Artefakterschaffung und zur magischen Analyse sind um +2 erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Zeit lassen (S. 71).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"kl","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Schamanen","tradition":true,"description":"Bedingungen:\\nSichtkontakt, Geste oder Tanz, gesprochene oder gesungene Formel\\n\\nStufe 1:\\nDu kannst Zauber in der Tradition der Schamanen erlernen und benutzen. Solche Zauber findest du unter Geister d. Stärkung (S. 162), Geister d. Zorns, Geister rufen, Geister vertreiben und Keulenrituale (S. 167). Verärgert der Nutznießer eines positiven schamanischen Zaubers den entsprechenden Geist, endet die Wirkung auf ihn sofort (Spielleiterentscheid).\\n\\nStufe 2:\\nSchamanen binden oft einen beträchtlichen Teil ihrer Astralenergie in ihre Zauber. Wenn du mindestens 2/4/8/16 gAsP gebunden hast, sind deine Zauber um +1/+2/+3/+4 erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Zeremonie (S. 71).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden. Für 4 Punkte davon kannst du die Fähigkeit erlangen, fortan mittels freier Seelenfahrt ins Geisterreich zu reisen und dort verschiedenste Zauberwirkungen hervorzurufen. Solche Reisen sind jedoch stets gefährlich, Details sind Spielleiterentscheid.","level":["I","II","III","IV"],"attribute":"in","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Schamanen","tradition":true,"description":"Bedingungen:\\nSichtkontakt, Geste oder Tanz, gesprochene oder gesungene Formel\\n\\nStufe 1:\\nDu kannst Zauber in der Tradition der Schamanen erlernen und benutzen. Solche Zauber findest du unter Geister d. Stärkung (S. 162), Geister d. Zorns, Geister rufen, Geister vertreiben und Keulenrituale (S. 167). Verärgert der Nutznießer eines positiven schamanischen Zaubers den entsprechenden Geist, endet die Wirkung auf ihn sofort (Spielleiterentscheid).\\n\\nStufe 2:\\nSchamanen binden oft einen beträchtlichen Teil ihrer Astralenergie in ihre Zauber. Wenn du mindestens 2/4/8/16 gAsP gebunden hast, sind deine Zauber um +1/+2/+3/+4 erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Zeremonie (S. 71).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden. Für 4 Punkte davon kannst du die Fähigkeit erlangen, fortan mittels freier Seelenfahrt ins Geisterreich zu reisen und dort verschiedenste Zauberwirkungen hervorzurufen. Solche Reisen sind jedoch stets gefährlich, Details sind Spielleiterentscheid.","level":["I","II","III","IV"],"attribute":"in","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Scharlatane","tradition":true,"description":"Bedingungen:\\nSichtkontakt, Geste, laut gesprochene Zauberformel\\n\\nStufe 1:\\nDu kannst Zauber in der Tradition der Scharlatane erlernen und benutzen. Solche Zauber findest du unter den allgemeinen Zaubern und unter Kugelzauber (S. 169). Zauber mit Basiskosten von 16 AsP oder mehr sind um –2 erschwert.\\n\\nStufe 2:\\nScharlatane sind Meister der Illusionsmagie. Wenn du einen Zauber mit der Fertigkeit Illusion wirkst, kannst du eine Basismodifikation (z.B. 1x Mächtige Magie) ohne Erschwernis ausführen.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Zeit lassen (S. 71).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"ch","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Schelme","tradition":true,"description":"Bedingungen:\\nSichtkontakt, Geste, Harmlosigkeit\\n\\nStufe 1:\\nDu kannst Zauber in der Tradition der Schelme erlernen und benutzen. Solche Zauber findest du unter den allgemeinen Zaubern. Schelmische Zauber können nicht schriftlich weitergegeben werden.\\n\\nStufe 2:\\nSchelmenmagie umgeht den geistigen Widerstand ihrer Ziele. Wenn ein Zauber gegen die Magieresistenz wirkt, ist er um +2 erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Erzwingen (S. 71).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"in","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Zauberbarden","tradition":true,"description":"Bedingungen:\\nSichtkontakt, Instrumentenspiel, Ziel können dich hören\\n\\nStufe 1:\\nDu kannst Zauber in der Tradition der Zauberbarden erlernen und benutzen. Solche Zauber findest du unter Zaubermelodien (S. 174). Die Bedingung Instrumentenspiel kann nicht ignoriert werden.\\n\\nStufe 2:\\nZauberbarden können ihre Melodie flexibel verändern. Während du einen Zauber mit der Eigenschaft Konzentration (S. 123) aufrechterhältst, kannst du weitere Zauber vorbereiten. (Die Aktion Konflikt ist dennoch nötig und beendet den vorherigen Zauber.)\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Zeit lassen (S. 71).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"ch","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Zaubertänzer","tradition":true,"description":"Bedingungen:\\nSichtkontakt, Tanz, Ziele können dich sehen\\n\\nStufe 1:\\nDu kannst Zauber in der Tradition der Zaubertänzer erlernen und benutzen. Solche Zauber findest du unter Zaubertänze (S. 176). Die Bedingung Tanz kann nicht ignoriert werden.\\n\\nStufe 2:\\nDie Darbietung eines erfahrenen Zaubertänzers hinterlässt einen bleibenden Eindruck. Die Wirkungsdauer aller deiner Zauber ist verdoppelt.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Opferung (S. 71): Du tanzt mit besonderem Einsatz (2 Erschöpfung).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"ge","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Magiedilettanten","tradition":true,"description":"Bedingungen:\\nSichtkontakt, Tanz, Ziele können dich sehen\\n\\nStufe 1:\\nDu kannst Zauber in der Tradition der Zaubertänzer erlernen und benutzen. Solche Zauber findest du unter Zaubertänze (S. 176). Die Bedingung Tanz kann nicht ignoriert werden.\\n\\nStufe 2:\\nDie Darbietung eines erfahrenen Zaubertänzers hinterlässt einen bleibenden Eindruck. Die Wirkungsdauer aller deiner Zauber ist verdoppelt.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Opferung (S. 71): Du tanzt mit besonderem Einsatz (2 Erschöpfung).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":null,"attribute":"ge","minValue":null,"xp":20,"boni":null}],"karmaAdvantages":[{"name":"Gemeinschaft der Gläubigen","description":"Für mindestens 4/8/16/32 Mitbetende ist die Liturgieprobe um +1/2/3/4 erleichtert.","attribute":"ch","minValue":4,"xp":20},{"name":"Unterstützung der Gläubigen","description":"Mirakel können auch auf andere Gläubige gewirkt werden. Die Wirkung solcher Mirakel ist halbiert.","attribute":"ch","minValue":6,"xp":40},{"name":"Aura der Helligkeit","description":"Gläubige Mitstreiter in einem Radius von 16 Schritt erhalten eine Erleichterung von +1 auf alle Mirakel-Fertigkeiten deiner Gottheit, sowie alle Liturgien. Du selbst profitierst nicht von diesem Bonus.","attribute":"ch","minValue":8,"xp":60},{"name":"Segnung der Gläubigen","description":"Liturgien, die ausschließlich gläubige Mitstreiter (und nicht dich selbst) verstärken, kosten nur die halben Basiskosten.","attribute":"ch","minValue":10,"xp":80},{"name":"Geminsames Wunder","description":"Du kannst Liturgien gemeinsam mit anderen Kennern dieses Vorteils wirken (wie mit dem Unitatio, siehe S. 72).","attribute":"in","minValue":4,"xp":20},{"name":"Zuverlässiges Wunder","description":"Schlägt eine durch ein Mirakel unterstützte Probe fehl, bleibt die Wirkung des Mirakels aufrecht (1x pro Mirakel). Patzer bei solchen Proben gelten nur als gewöhnlich misslungen.","attribute":"in","minValue":6,"xp":40},{"name":"Beeindruckendes Wunder","description":"Bei Mirakeln verleiht die Modifikation Mächtige Liturgie einen Bonus von +4 statt +2.","attribute":"in","minValue":8,"xp":60},{"name":"Göttliche Nähe","description":"Du regenerierst 1 zusätzlichen KaP pro Nacht.","attribute":"in","minValue":10,"xp":80},{"name":"Liturgische Routine","description":"Bei Liturgien gewürfelte Patzer gelten nur als gewöhnlich misslungen.","attribute":"kl","minValue":4,"xp":20},{"name":"Liturgische Sorgfalt","description":"Misslungene Liturgien kosten nur ein Viertel der Basiskosten.","attribute":"kl","minValue":6,"xp":40},{"name":"Liturgische Disziplin","description":"Ermöglicht die spontane Modifikation Kosten sparen.","attribute":"kl","minValue":8,"xp":60},{"name":"Liebling der Gottheit","description":"Zeigt der gewertete Würfel bei einer Liturgie eine 16 oder höher, erhält sie eine zusätzliche Stufe Mächtige Liturgie. Außerdem erhältst du alle KaP zurück, die du für die Liturgie bezahlt hast.","attribute":"kl","minValue":10,"xp":80},{"name":"Verseuchung erspüren","description":"Bei Verwendung spürst du die Anwesenheit und die grobe Stärke – nicht aber den genauen Ort – von dämonischen Präsenzen oder Verseuchung in unmittelbarer Nähe. Kostet 1 KaP pro Minute.","attribute":"mu","minValue":4,"xp":20},{"name":"Gesegnete Waffen","description":"Waffen in deiner Hand gelten immer als geweiht. Bereits geweihte Waffen verursachen +1W6 TP gegen unheilige Wesen (S. 98).","attribute":"mu","minValue":6,"xp":40},{"name":"Stärke des Glaubens","description":"Gegen Angriffe von unheiligen Wesenheiten (S. 98) steigt deine WS um +2.","attribute":"mu","minValue":8,"xp":60},{"name":"Streiter der Schöpfung","description":"Alle Proben im Kampf gegen unheilige Wesen (S. 98) sind um +2 erleichtert, Liturgien sogar um +4.","attribute":"mu","minValue":10,"xp":80},{"name":"Tradition der Avesgeweihten","tradition":true,"description":"Bedingungen\\nSichtkontakt, Geste, Bewegung (mindestens 1 Schritt pro Aktion)\\n\\nStufe 1:\\nDu kannst Liturgien in der Tradition der Avesgeweihten erlernen und benutzen. Solche Liturgien findest du unter den allgemeinen Liturgien, sowie unter Fröhlicher Wanderer und Stiller Wanderer (ab S. 201). Liturgien sind um 2–8 Punkte erschwert, wenn ihr Einsatz gegen die Prinzipien des Geweihten verstößt.\\n\\nStufe 2:\\nAvesgeweihte sind ständig in Bewegung. Wenn du eine Liturgie vorbereitest, kannst du zusätzlich zur Aktion Konzentration die Aktion Bewegung nutzen.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Opferung (S. 84). Avesgeweihte opfern die Feder eines Zugvogels.\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"mu","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Borongeweihten","tradition":true,"description":"Bedingungen\\nSichtkontakt, Geste, innere Ruhe (unbeeinflusst von aufwühlenden Emotionen wie Leidenschaft, Zorn oder Panik)\\n\\nStufe 1:\\nDu kannst Liturgien in der Tradition der Borongeweihten erlernen und benutzen. Solche Liturgien findest du unter den allgemeinen Liturgien, sowie unter Schlaf, Tod und Vergessen (ab S. 179). Liturgien sind um 2–8 Punkte erschwert, wenn ihr Einsatz gegen die Prinzipien des Geweihten verstößt.\\n\\nStufe 2:\\nBorongeweihte würdigen die Ruhe und das Schweigen. In der Stille sind Liturgien um 2–4 Punkte erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Zeremonie (S. 84).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"kl","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Efferdgeweihten","tradition":true,"description":"Bedingungen\\nSichtkontakt, Geste, gesprochenes oder gesungenes Gebet\\n\\nStufe 1:\\nDu kannst Liturgien in der Tradition der Efferdgeweihten erlernen und benutzen. Solche Liturgien findest du unter den allgemeinen Liturgien, sowie unter Flüsse und Quellen, Seefahrt und Wind und Wogen (ab S. 181). Liturgien sind um 2–8 Punkte erschwert, wenn ihr Einsatz gegen die Prinzipien des Geweihten verstößt.\\n\\nStufe 2:\\nEfferdgeweihte sind so wechselhaft wie das Meer. Im Zustand besonders starker Emotionen sind Liturgien um 2–4 Punkte erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Opferung (S. 84). Efferdgeweihte opfern Perlen oder Gwen-Petryl-Steine.\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"in","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Firundgeweihte","tradition":true,"description":"Bedingungen\\nSichtkontakt, Geste, innere Stärke (unbeeinflusst von Charakterschwächen wie Angst, Jähzorn oder Gier)\\n\\nStufe 1:\\nDu kannst Liturgien in der Tradition der Firungeweihten erlernen und benutzen. Solche Liturgien findest du unter den allgemeinen Liturgien, sowie unter Jagd, Wildnis und Winter (ab S. 184). Liturgien sind um 2–8 Punkte erschwert, wenn ihr Einsatz gegen die Prinzipien des Geweihten verstößt.\\n\\nStufe 2:\\nFirungeweihte sind Einzelgänger. Liturgien, von denen nur sie profitieren, sind um +2 erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Opferung (S. 84). Firungeweihte opfern besondere Beute oder Trophäen.\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"mu","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Hesindgeweihte","tradition":true,"description":"Bedingungen\\nSichtkontakt, Geste, gesprochenes oder gesungenes Gebet\\n\\nStufe 1:\\nDu kannst Liturgien in der Tradition der Hesindegeweihten erlernen und benutzen. Solche Liturgien findest du unter den allgemeinen Liturgien, sowie unter Magie und Wissen (ab S. 187). Liturgien sind um 2–8 Punkte erschwert, wenn ihr Einsatz gegen die Prinzipien des Geweihten verstößt.\\n\\nStufe 2:\\nHesindegeweihte können auch mit mehrfach veränderten Liturgien gut umgehen. Wird eine Liturgie mit mindestens zwei unterschiedlichen Basismodifikationen gewirkt, ist sie zusätzlich um +2 erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Zeremonie (S. 84).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"kl","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Ifirngeweihte","tradition":true,"description":"Bedingungen\\nSichtkontakt, Geste, gesprochenes oder gesungenes Gebet\\n\\nStufe 1:\\nDu kannst Liturgien in der Tradition der Ifirngeweihten erlernen und benutzen. Solche Liturgien findest du unter den allgemeinen Liturgien, sowie unter Jagd und Wildnis (ab S. 184). Liturgien sind um 2–8 Punkte erschwert, wenn ihr Einsatz gegen die Prinzipien des Geweihten verstößt.\\n\\nStufe 2:\\nIfirngeweihte durchstreifen die Lande und helfen denen, die in Not geraten sind. Liturgien, von denen nur andere (aber sie selbst nicht) profitieren, sind um +2 erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Zeremonie (S. 84).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"in","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Ingerimmgeweihten","tradition":true,"description":"Bedingungen\\nSichtkontakt, Geste, gesprochenes oder gesungenes Gebet\\n\\nStufe 1:\\nDu kannst Liturgien in der Tradition der Ingerimmgeweihten erlernen und benutzen. Solche Liturgien findest du unter den allgemeinen Liturgien, sowie unter Hl. Erz, Hl. Feuer und Hl. Handwerk (ab S. 188). Liturgien sind um 2–8 Punkte erschwert, wenn ihr Einsatz gegen die Prinzipien des Geweihten verstößt.\\n\\nStufe 2:\\nIngerimm- und Angroschgeweihte dienen dem Herren des Feuers und des Erzes. Unterirdisch sind alle Liturgien um 2–4 Punkte erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Opferung (S. 84). Ingerimmgeweihte opfern Handwerksgegenstände.\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"ff","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Angroschgeweihten","tradition":true,"description":"Bedingungen\\nSichtkontakt, Geste, gesprochenes oder gesungenes Gebet\\n\\nStufe 1:\\nDu kannst Liturgien in der Tradition der Ingerimmgeweihten erlernen und benutzen. Solche Liturgien findest du unter den allgemeinen Liturgien, sowie unter Hl. Erz, Hl. Feuer und Hl. Handwerk (ab S. 188). Liturgien sind um 2–8 Punkte erschwert, wenn ihr Einsatz gegen die Prinzipien des Geweihten verstößt.\\n\\nStufe 2:\\nIngerimm- und Angroschgeweihte dienen dem Herren des Feuers und des Erzes. Unterirdisch sind alle Liturgien um 2–4 Punkte erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Opferung (S. 84). Ingerimmgeweihte opfern Handwerksgegenstände.\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"ff","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Korgeweihten","tradition":true,"description":"Bedingungen\\nSichtkontakt, Geste, gesprochenes oder gesungenes Gebet\\n\\nStufe 1:\\nDu kannst Liturgien in der Tradition der Korgeweihten erlernen und benutzen. Solche Liturgien findest du unter den allgemeinen Liturgien, sowie unter Guter Kampf und Gutes Gold (ab S. 202). Liturgien sind um 2–8 Punkte erschwert, wenn ihr Einsatz gegen die Prinzipien des Geweihten verstößt.\\n\\nStufe 2:\\nKorgeweihte werden durch erlittene Wunden eher noch gefährlicher. Der Wundabzug schränkt dich beim Wirken von Liturgien nicht ein. Kannst du den Wundabzug ohnehin ignorieren, sind Liturgien um den halben Wundabzug erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Opferung (S. 84). Korgeweihte opfern ihr Blut (verursacht 1 Wunde).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"mu","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Nandusgeweihten","tradition":true,"description":"Bedingungen\\nSichtkontakt, Geste, gesprochenes oder gesungenes Gebet\\n\\nStufe 1:\\nDu kannst Liturgien in der Tradition der Nandusgeweihten erlernen und benutzen. Solche Liturgien findest du unter den allgemeinen Liturgien, sowie unter Wissen (ab S. 187). Liturgien sind um 2–8 Punkte erschwert, wenn ihr Einsatz gegen die Prinzipien des Geweihten verstößt.\\n\\nStufe 2:\\nNandugeweihte wissen, dass Gesten und Worte nur menschliches Beiwerk einer Liturgie sind. Wird eine Liturgie mit der Modifikation Liturgische Technik ignorieren gewirkt, ist sie zusätzlich um +2 erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Opferung (S. 84). Nandusgeweihte opfern falsches oder veraltetes Wissen.\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"kl","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Perainegeweihten","tradition":true,"description":"Bedingungen\\nSichtkontakt, Geste, gesprochenes oder gesungenes Gebet\\n\\nStufe 1:\\nDu kannst Liturgien in der Tradition der Perainegeweihten erlernen und benutzen. Solche Liturgien findest du unter den allgemeinen Liturgien, sowie unter Heilung und Wachstum (ab S. 191). Liturgien sind um 2–8 Punkte erschwert, wenn ihr Einsatz gegen die Prinzipien des Geweihten verstößt.\\n\\nStufe 2:\\nPerainegeweihte sind oft das Herz der Gemeinschaft. Wird eine Liturgie mit der Modifikation Mehrere Ziele gesprochen, ist sie zusätzlich um +2 erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Zeremonie (S. 84).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"ch","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Phexgeweihten","tradition":true,"description":"Bedingungen\\nSichtkontakt, Geste, (symbolische) Gegenleistung an Phex\\n\\nStufe 1:\\nDu kannst Liturgien in der Tradition der Phexgeweihten erlernen und benutzen. Solche Liturgien findest du unter den allgemeinen Liturgien, sowie unter Abu al‘Mada, List und Nächtlicher Schatten (ab S. 192). Liturgien sind um 2–8 Punkte erschwert, wenn ihr Einsatz gegen die Prinzipien des Geweihten verstößt.\\n\\nStufe 2:\\nPhexgeweihte vertrauen auf ihr Können, aber manchmal auch auf ihr Glück. Statt mit 3W20 kannst du Proben beim Wirken von Liturgien auch mit 1W20 ablegen. Dadurch verbessern sich deine Chancen bei besonders gewagten Liturgien.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Opferung (S. 84). Phexgeweihte opfern einen wertvollen Besitz.\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"in","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Praiosgeweihten","tradition":true,"description":"Bedingungen\\nSichtkontakt, Geste, gesprochenes oder gesungenes Gebet\\n\\nStufe 1:\\nDu kannst Liturgien in der Tradition der Praiosgeweihten erlernen und benutzen. Solche Liturgien findest du unter den allgemeinen Liturgien, sowie unter Licht, Magiebann und Ordnung (ab S. 193). Liturgien sind um 2–8 Punkte erschwert, wenn ihr Einsatz gegen die Prinzipien des Geweihten verstößt.\\n\\nStufe 2:\\nPraiosgeweihte erkennen in der Sonne ihren Gott. Im Sonnenlicht sind Liturgien um 2–4 Punkte erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Zeremonie (S. 84).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"ch","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Rahjageweihte","tradition":true,"description":"Bedingungen\\nSichtkontakt, Geste, Zärtlichkeit dem Ziel gegenüber oder Gebet\\n\\nStufe 1:\\nDu kannst Liturgien in der Tradition der Rahjageweihten erlernen und benutzen. Solche Liturgien findest du unter den allgemeinen Liturgien, sowie unter Harmonie und Rausch (ab S. 195). Liturgien sind um 2–8 Punkte erschwert, wenn ihr Einsatz gegen die Prinzipien des Geweihten verstößt.\\n\\nStufe 2:\\nRahjgeweihte schätzen den Rausch, egal ob durch Alkohol, Sex, Tanz, einen Ausritt oder schieren Nervenkitzel. In berauschtem Zustand sind Liturgien um 2-4 Punkte erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Opferung (S. 84). Rahjgeweihte opfern den heiligen Wein Tharf.\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"ch","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Rondrageweihten","tradition":true,"description":"Bedingungen\\nSichtkontakt, Geste, gesprochenes oder gesungenes Gebet\\n\\nStufe 1:\\nDu kannst Liturgien in der Tradition der Rondrageweihten erlernen und benutzen. Solche Liturgien findest du unter den allgemeinen Liturgien, sowie unter Ehre, Heerführung und Schutz der Gläubigen (ab S. 197). Liturgien sind um 2–8 Punkte erschwert, wenn ihr Einsatz gegen die Prinzipien des Geweihten verstößt.\\n\\nStufe 2:\\nRondrageweihte geben auch in der düstersten Stunde nicht auf. Der Wundabzug schränkt dich beim Wirken von Liturgien nicht ein. Kannst du den Wundabzug ohnehin ignorieren, sind Liturgien um den halben Wundabzug erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Opferung (S. 84). Rondrageweihte opfern ihr Blut (verursacht 1 Wunde).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"mu","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Swafnirgeweihten","tradition":true,"description":"Bedingungen\\nSichtkontakt, Geste, gesprochenes oder gesungenes Gebet\\n\\nStufe 1:\\nDu kannst Liturgien in der Tradition der Swafnirgeweihten erlernen und benutzen. Solche Liturgien findest du unter den allgemeinen Liturgien, sowie unter Seefahrt und Wind und Wogen (S. 182). Liturgien sind um 2–8 Punkte erschwert, wenn ihr Einsatz gegen die Prinzipien des Geweihten verstößt.\\n\\nStufe 2:\\nSwafnirgeweihte begleiten und unterstützen ihre Gefährten auf ihren Fahrten. Auf See sind Liturgien um 2–4 Punkte erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Opferung (S. 84). Swafnirgeweihte opfern ihr Blut (verursacht 1 Wunde).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"mu","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Traviageweihten","tradition":true,"description":"Bedingungen\\nSichtkontakt, Geste, gesprochenes oder gesungenes Gebet\\n\\nStufe 1:\\nDu kannst Liturgien in der Tradition der Traviageweihten erlernen und benutzen. Solche Liturgien findest du unter den allgemeinen Liturgien, sowie unter Heim und Herd und Sichere Heimkehr (ab S. 199). Liturgien sind um 2–8 Punkte erschwert, wenn ihr Einsatz gegen die Prinzipien des Geweihten verstößt.\\n\\nStufe 2:\\nTraviageweihte schätzen Treue und Beständigkeit. Wird eine Liturgie mit der Modifikation Wirkungsdauer verlängern gewirkt, ist sie zusätzlich um +2 erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Zeremonie (S. 84).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"ch","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]},{"name":"Tradition der Tsageweihten","tradition":true,"description":"Bedingungen\\nSichtkontakt, Geste, gesprochenes oder gesungenes Gebet\\n\\nStufe 1:\\nDu kannst Liturgien in der Tradition der Tsageweihten erlernen und benutzen. Solche Liturgien findest du unter den allgemeinen Liturgien, sowie unter Friede und Neubeginn (ab S. 200). Liturgien sind um 2–8 Punkte erschwert, wenn ihr Einsatz gegen die Prinzipien des Geweihten verstößt.\\n\\nStufe 2:\\nTsageweihte sind schnell, entschlossen und spontan. Wird eine Liturgie mit der Modifikation Vorbereitungszeit verkürzen gewirkt, ist sie zusätzlich um +2 erleichtert.\\n\\nStufe 3:\\nErlaubt die spontane Modifikation Zeremonie (S. 84).\\n\\nStufe 4:\\n8 Punkte können zur Verbesserung der Tradition verwendet werden.","level":["I","II","III","IV"],"attribute":"in","minValue":[4,6,8,10],"xp":[20,60,120,200],"boni":[null,null,null,{"skill":8}]}],"demonAdvantages":[]}');function q(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ee(e,t){var n=document.getElementById("supernatural__adv-add"),i=document.createElement("div");i.setAttribute("class","advantages__advantage closed"),n.before(i);var r=document.createElement("h4");r.innerText=e.name+" ",r.addEventListener("click",(function(){i.classList.contains("opened")?(i.classList.add("closed"),i.classList.remove("opened")):(i.classList.add("opened"),i.classList.remove("closed"))})),i.appendChild(r);var a=document.createElement("span");a.classList.add("advantages__advantage-xp"),Array.isArray(e.xp)?a.innerText="xp: ".concat(e.xp[e.curLevelIndex]):a.innerText="xp: ".concat(e.xp),r.appendChild(a);var s=document.createElement("p");if(s.innerText=e.description,i.appendChild(s),void 0!==e.level&&null!==e.level){var l=document.createElement("div");l.classList.add("advantages__select-flex"),i.appendChild(l);var d=document.createElement("label");d.setAttribute("for","mainAdv-".concat(e.name,"-select")),d.innerText="Stufe:",l.appendChild(d);var u=document.createElement("select");u.setAttribute("id","mainAdv-".concat(e.name,"-select")),u.setAttribute("class","select advantages__select"),u.addEventListener("change",(function(n){t.editAdvantageLevel(e.name,u.value),Array.isArray(e.xp)?a.innerText="xp: ".concat(e.xp[e.curLevelIndex]):a.innerText="xp: ".concat(e.xp)})),l.appendChild(u);var c,o=q(e.level);try{for(o.s();!(c=o.n()).done;){var h=c.value,p=document.createElement("option");p.setAttribute("value",h),p.innerText=h,u.appendChild(p)}}catch(e){o.e(e)}finally{o.f()}u.value=e.level[e.curLevelIndex]}var m=document.createElement("button");m.classList.add("button"),m.innerText="Löschen",m.addEventListener("click",(function(n){n.preventDefault(),t.deleteAdvantage(e.name),i.remove()})),i.appendChild(m)}function te(e,t){if(!(!e.boni[e.curLevelIndex]instanceof Object)){var n=document.getElementById("body"),i=document.createElement("div");n.appendChild(i);var r=document.createElement("div");r.classList.add("popup-bg"),i.appendChild(r);var a=document.createElement("div");a.classList.add("popup"),i.appendChild(a);var s=document.createElement("div");s.classList.add("popup-header"),a.appendChild(s);var l=document.createElement("h2");l.classList.add("popup-heading"),l.innerText="Bonus-Skillpunkte",s.appendChild(l);var d=document.createElement("a");d.setAttribute("href","#"),d.setAttribute("class","popup-close"),d.innerText="X",d.addEventListener("click",(function(n){n.preventDefault();var r,a={},s=0,l=q(c.children);try{for(l.s();!(r=l.n()).done;){var d=r.value,u=d.children[0].value,o=parseInt(d.children[1].value);if(void 0!==a[u])return void alert("Du hast einen Skill mehrmals ausgewählt!");a[u]=o,s+=o}}catch(e){l.e(e)}finally{l.f()}s>e.boni[e.curLevelIndex].skills?alert("Du hast ".concat(s-e.boni[e.curLevelIndex].skills," Punkte zu viel verteilt")):(t.setSkillBoni(e.name,a),i.remove())})),s.appendChild(d);var u=document.createElement("p");u.innerText="Die Stufe des Vorteils gewährt dir ".concat(e.boni[e.curLevelIndex].skills," Punkte, welche du auf Kampffertigkeiten verteilen kannst."),a.appendChild(u);var c=document.createElement("ul");c.classList.add("create__boni-list"),a.appendChild(c);var o=document.createElement("button");o.classList.add("button"),o.innerText="Fertigkeit hinzufügen",o.addEventListener("click",(function(e){e.preventDefault();var n=document.createElement("li");c.appendChild(n);var i=document.createElement("select");i.setAttribute("class","select create__boni-selector"),n.appendChild(i);var r,a=q(t.supernaturalModule.skills.list);try{for(a.s();!(r=a.n()).done;){var s=r.value,l=document.createElement("option");l.setAttribute("value",s.id),l.innerText=s.name,i.appendChild(l)}}catch(e){a.e(e)}finally{a.f()}var d=document.createElement("input");d.setAttribute("type","number"),d.setAttribute("class","inputField create__boni-input"),n.appendChild(d);var u=document.createElement("button");u.setAttribute("class","button create__boni-delete"),u.innerText="Entfernen",u.addEventListener("click",(function(e){e.preventDefault(),n.remove()})),n.appendChild(u)})),a.appendChild(o)}}function ne(e,t){var n;n=void 0!==t?"popup-".concat(t.id):"popup-new";var i=document.createElement("li");i.classList.add("skill"),void 0!==t&&i.classList.add("closed");var r=document.createElement("h3");r.classList.add("skill-heading"),void 0!==t?(r.innerText=t.name,r.addEventListener("click",(function(e){i.classList.contains("opened")?(i.classList.remove("opened"),i.classList.add("closed")):(i.classList.remove("closed"),i.classList.add("opened"))}))):r.innerText="Neue Fertigkeit",i.appendChild(r);var a=document.createElement("div");a.classList.add("skill-row"),i.appendChild(a);var s=document.createElement("label");s.setAttribute("for","".concat(n,"-name")),s.innerText="Name:",a.appendChild(s);var l=document.createElement("input");l.setAttribute("id","".concat(n,"-name")),l.setAttribute("class","inputField skill-textinput"),l.setAttribute("type","text"),a.appendChild(l);var d=document.createElement("div");d.classList.add("skill-row"),i.appendChild(d);var u=document.createElement("label");u.setAttribute("for","".concat(n,"-factor")),u.innerText="Faktor:",d.appendChild(u);var c=document.createElement("input");c.setAttribute("id","".concat(n,"-factor")),c.setAttribute("class","inputField skill-numberinput"),c.setAttribute("type","number"),d.appendChild(c);var o=document.createElement("div");o.classList.add("skill-row"),i.appendChild(o);var h=document.createElement("label");h.innerText="Attribute:",o.appendChild(h);var p=document.createElement("div");p.classList.add("skill-attributes-container"),o.appendChild(p);var m=document.createElement("select");m.setAttribute("class","select skill-select"),m.setAttribute("name","Attr1"),p.appendChild(m);var v=document.createElement("select");v.setAttribute("class","select skill-select"),v.setAttribute("name","Attr2"),p.appendChild(v);var f=document.createElement("select");f.setAttribute("class","select skill-select"),f.setAttribute("name","Attr3"),p.appendChild(f);var g,b=q(e.supernaturalModule.attributesModule.list);try{for(b.s();!(g=b.n()).done;){var k=g.value.id,E=document.createElement("option");E.setAttribute("value",k),E.innerText=k;var x=document.createElement("option");x.setAttribute("value",k),x.innerText=k;var w=document.createElement("option");w.setAttribute("value",k),w.innerText=k,m.appendChild(E),v.appendChild(x),f.appendChild(w)}}catch(e){b.e(e)}finally{b.f()}if(void 0!==t&&(l.value=t.name,c.value=t.factor,m.value=t.attr1,v.value=t.attr2,f.value=t.attr3),void 0!==t){var A=document.createElement("div");A.setAttribute("class","skill-row skill-buttons"),i.appendChild(A);var y=document.createElement("button");y.setAttribute("class","button skill-button"),y.innerText="Ändern",y.addEventListener("click",(function(n){if(n.preventDefault(),""!==l.value)if(""!==c.value)if(c.value<0||c.value>5)alert("Der Faktor muss zwischen 0 und 5 liegen!");else{var i=c.value;r.innerText=l.value,e.editSkill(t.id,l.value,i,m.value,v.value,f.value)}else alert("Faktor eingeben!");else alert("Bitte einen Namen angeben")})),A.appendChild(y);var S=document.createElement("button");S.setAttribute("class","button skill-button"),S.innerText="Löschen",S.addEventListener("click",(function(n){n.preventDefault(),e.deleteSkill(t.id),document.getElementById("".concat(t.id,"-tr")).remove(),i.remove()})),A.appendChild(S)}else{var I=document.createElement("button");I.setAttribute("class","button skill-button"),I.innerText="Hinzufügen",I.addEventListener("click",(function(t){if(t.preventDefault(),""!==l.value)if(""!==c.value)if(c.value>=0&&c.value>5)alert("Der Faktor muss zwischen 1 und 5 liegen");else{var n=c.value;e.addSkill(l.value,n,m.value,v.value,f.value,!0);var r=e.list.find((function(e){return e.name===l.value})).id;i.before(ne(e,{name:l.value,factor:n,attr1:m.value,attr2:v.value,attr3:f.value,self:!0,id:r})),document.getElementById("addSkill").classList.remove("hide"),i.remove()}else alert("Faktor eingeben!");else alert("Bitte einen Namen angeben")})),i.appendChild(I)}return i}function ie(e,t,n){var i=e.supernaturalModule.skills.list;if(0!==i.length){var r=document.getElementById("body"),a=document.createElement("div");r.appendChild(a);var s=document.createElement("div");s.classList.add("popup-bg"),a.appendChild(s);var l=document.createElement("div");l.classList.add("popup"),a.appendChild(l);var d=document.createElement("div");d.classList.add("popup-header"),l.appendChild(d);var u=document.createElement("h2");u.classList.add("popup-heading"),u.innerText=void 0!==t?"Talent ändern:":"Talent hinzufügen:",d.appendChild(u);var c=document.createElement("a");c.setAttribute("href","#"),c.classList.add("popup-close"),c.innerText="X",c.addEventListener("click",(function(e){e.preventDefault(),a.remove()})),d.appendChild(c);var o=document.createElement("div");o.setAttribute("class","supernatural__popup-content"),l.appendChild(o);var h=document.createElement("div");h.setAttribute("class","supernatural__popup-flexContainer");var p=document.createElement("label");p.innerText="Name:",p.setAttribute("for","popup__talent-name"),h.appendChild(p);var m=document.createElement("input");m.setAttribute("class","inputField"),m.setAttribute("id","popup__talent-name"),m.setAttribute("type","text"),h.appendChild(m),o.appendChild(h);var v=document.createElement("div");v.setAttribute("class","supernatural__popup-flexContainer");var f=document.createElement("label");f.innerText="Name:",f.setAttribute("for","popup__talent-select"),v.appendChild(f);var g=document.createElement("select");g.setAttribute("class","select"),g.setAttribute("id","popup__talent-select");var b,k=q(i);try{for(k.s();!(b=k.n()).done;){var E=b.value,x=document.createElement("option");x.setAttribute("value",E.id),x.innerText=E.name,g.appendChild(x)}}catch(e){k.e(e)}finally{k.f()}v.appendChild(g),o.appendChild(v);var w=document.createElement("div");w.setAttribute("class","supernatural__popup-container");var A=document.createElement("label");A.innerText="Beschreibung:",A.setAttribute("for","popup__talent-description"),w.appendChild(A);var y=document.createElement("textarea");y.setAttribute("class","inputField"),y.setAttribute("id","popup__talent-description"),w.appendChild(y),o.appendChild(w);var S=document.createElement("div");S.setAttribute("class","supernatural__popup-flexContainer");var I=document.createElement("label");I.innerText="Vorbereitung:",I.setAttribute("for","popup__talent-preparation"),S.appendChild(I);var L=document.createElement("input");L.setAttribute("class","inputField"),L.setAttribute("id","popup__talent-preparation"),L.setAttribute("type","text"),S.appendChild(L),o.appendChild(S);var C=document.createElement("div");C.setAttribute("class","supernatural__popup-flexContainer");var T=document.createElement("label");T.innerText="Ziel:",T.setAttribute("for","popup__talent-target"),C.appendChild(T);var _=document.createElement("input");_.setAttribute("class","inputField"),_.setAttribute("id","popup__talent-target"),_.setAttribute("type","text"),C.appendChild(_),o.appendChild(C);var z=document.createElement("div");z.setAttribute("class","supernatural__popup-flexContainer");var V=document.createElement("label");V.innerText="Reichweite:",V.setAttribute("for","popup__talent-range"),z.appendChild(V);var P=document.createElement("input");P.setAttribute("class","inputField"),P.setAttribute("id","popup__talent-range"),P.setAttribute("type","text"),z.appendChild(P),o.appendChild(z);var M=document.createElement("div");M.setAttribute("class","supernatural__popup-flexContainer");var B=document.createElement("label");B.innerText="Wirkungsdauer:",B.setAttribute("for","popup__talent-duration"),M.appendChild(B);var D=document.createElement("input");D.setAttribute("class","inputField"),D.setAttribute("id","popup__talent-duration"),D.setAttribute("type","text"),M.appendChild(D),o.appendChild(M);var Z=document.createElement("div");Z.setAttribute("class","supernatural__popup-flexContainer");var G=document.createElement("label");G.innerText="Kosten:",G.setAttribute("for","popup__talent-cost"),Z.appendChild(G);var F=document.createElement("input");F.setAttribute("class","inputField"),F.setAttribute("id","popup__talent-cost"),F.setAttribute("type","text"),Z.appendChild(F),o.appendChild(Z);var W=document.createElement("div");W.setAttribute("class","supernatural__popup-flexContainer");var K=document.createElement("label");K.innerText="XP:",K.setAttribute("for","popup__talent-xp"),W.appendChild(K);var N=document.createElement("input");N.setAttribute("class","inputField supernatural__popup-xpInput"),N.setAttribute("id","popup__talent-xp"),N.setAttribute("type","number"),W.appendChild(N),o.appendChild(W);var O=document.createElement("button");O.setAttribute("class","button"),o.appendChild(O),void 0!==t?(m.value=t.name,g.value=t.skillId,y.innerText=t.description,L.value=t.preparation,_.value=t.target,P.value=t.range,D.value=t.duration,F.value=t.cost,N.value=t.xp,O.innerText="Ändern",O.addEventListener("click",(function(i){if(i.preventDefault(),""!==m.value)if(""!==N.value){e.editTalent(t.name,g.value,m.value,N.value,y.innerText,L.value,_.value,P.value,D.value,F.value),n.children[0].innerText=m.value;var r=document.createElement("span");r.setAttribute("class","supernatural__talent-xp"),r.innerText="xp: ".concat(N.value),n.children[0].appendChild(r),n.children[1].innerText=y.innerText,n.children[2].children[0].innerText=e.supernaturalModule.skills.list.find((function(e){return e.id===g.value})).name,n.children[2].children[1].innerText=L.value,n.children[2].children[2].innerText=_.value,n.children[2].children[3].innerText=P.value,n.children[2].children[4].innerText=D.value,n.children[2].children[5].innerText=F.value,a.remove()}else alert("Bitte einen Wert für XP eingeben");else alert("Bitte Namen eingeben")}))):(O.innerText="Hinzufügen",O.addEventListener("click",(function(t){t.preventDefault(),""!==m.value?""!==N.value?(e.addTalent(g.value,m.value,N.value,y.innerText,L.value,_.value,P.value,D.value,F.value),a.remove()):alert("Bitte einen Wert für XP eingeben"):alert("Bitte Namen eingeben")})))}else alert("Zuerst Fertigkeiten hinzufügen!")}function re(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function de(e,t,n){return t&&le(e.prototype,t),n&&le(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var ue=function(){function t(n){var i=this;se(this,t),this.supernaturalModule=n,this.list=[],this.skillBoni={},this.xp=0,this.events=new e.EventEmitter,this.events.on("change",(function(){i.skillBoni={},i.xp=0;var e,t=re(i.list);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(Array.isArray(n.xp)?i.xp+=n.xp[n.curLevelIndex]:i.xp+=n.xp,n.skill instanceof Object)for(var r=0,a=Object.keys(n.skill);r<a.length;r++){var s=a[r];void 0===i.skillBoni[s]?i.skillBoni[s]=n.skill[s]:i.skillBoni[s]+=n.skill[s]}}}catch(e){t.e(e)}finally{t.f()}i.supernaturalModule.events.emit("change"),document.getElementById("supernatural__advantages-xp").innerText="xp: ".concat(i.xp),i.supernaturalModule.skills.boni=i.skillBoni,i.supernaturalModule.skills.events.emit("change")})),document.getElementById("supernatural__adv-add").addEventListener("click",(function(e){e.preventDefault(),document.getElementById("body").appendChild(function(e){var t=document.createElement("div"),n=document.createElement("div");n.classList.add("popup-bg"),t.appendChild(n);var i=document.createElement("div");i.classList.add("popup"),t.appendChild(i);var r=document.createElement("div");r.classList.add("popup-header"),i.appendChild(r);var a=document.createElement("h2");a.classList.add("popup-heading"),a.innerText="Vorteil hinzufügen:",r.appendChild(a);var s=document.createElement("a");s.setAttribute("href","#"),s.setAttribute("class","popup-close"),s.innerText="X",s.addEventListener("click",(function(e){e.preventDefault(),t.remove()})),r.appendChild(s);var l=document.createElement("label");l.setAttribute("for","categorySelect"),l.innerText="Kategorie: ",i.appendChild(l);var d=document.createElement("select");d.setAttribute("id","categorySelect"),d.setAttribute("class","select"),i.appendChild(d);for(var u=0,c=[{name:"Magie",value:"mage"},{name:"Karma",value:"karma"},{name:"Paktierer",value:"demon"}];u<c.length;u++){var o=c[u],h=document.createElement("option");h.innerText=o.name,h.setAttribute("value",o.value),d.appendChild(h)}var p=document.createElement("div");p.classList.add("selection"),i.appendChild(p);var m=document.createElement("div");m.classList.add("newAdvantage__searchSelection"),p.appendChild(m);var v=document.createElement("h3");v.setAttribute("class","searchSelect selection-heading"),v.innerText="Auswahl",v.addEventListener("click",(function(){p.classList.remove("create"),p.classList.add("selection")})),m.appendChild(v);var f=document.createElement("h3");f.setAttribute("class","searchSelect create-heading"),f.innerText="Eigenes",f.addEventListener("click",(function(){p.classList.remove("selection"),p.classList.add("create")})),m.appendChild(f);var g=document.createElement("div");g.classList.add("selection-content"),p.appendChild(g);var b=document.createElement("p");b.innerText="Solltest du dein Vorteil nicht finden, kannst du ihn einfach selber erstellen!",g.appendChild(b);var k=document.createElement("div");k.classList.add("selection__searchField-container"),g.appendChild(k);var E=document.createElement("label");E.setAttribute("for","searchField-input"),E.classList.add("selection__searchField-label"),E.innerText="Suche: ",k.appendChild(E);var x=document.createElement("input");x.setAttribute("type","text"),x.setAttribute("id","searchField-input"),x.classList.add("selection__searchField-input"),x.addEventListener("keydown",(function(){w.innerHTML="";var n=Q[d.value+"Advantages"].filter((function(e){return e.name.toLowerCase().includes(x.value.toLowerCase())})),i=function(i){if(i>=10)return"break";var r=document.createElement("li");r.classList.add("closed"),w.appendChild(r);var a=document.createElement("h4");a.innerText=n[i].name,a.addEventListener("click",(function(){r.classList.contains("closed")?(r.classList.remove("closed"),r.classList.add("opened")):(r.classList.remove("opened"),r.classList.add("closed"))})),r.appendChild(a);var s=document.createElement("div");s.classList.add("selection__searchResult-content"),r.appendChild(s);var l=document.createElement("p");if(l.innerText=n[i].description,s.appendChild(l),void 0!==n[i].level){var u=document.createElement("div");s.appendChild(u);var c=document.createElement("li");c.innerText="Stufe: ",u.appendChild(c);var o=document.createElement("select");o.classList.add("select"),u.appendChild(o);var h,p=q(n[i].level);try{for(p.s();!(h=p.n()).done;){var m=h.value,v=document.createElement("option");v.setAttribute("value",m),v.innerText=m,o.appendChild(v)}}catch(e){p.e(e)}finally{p.f()}var f=document.createElement("button");f.classList.add("button"),f.innerText="Hinzufügen",f.addEventListener("click",(function(n){n.preventDefault();var i=d.value,r=a.innerText,s=o.value;e.addExistingAdvantage(i,r,s);var l=e.list.find((function(e){return e.name===r}));l.boni[l.curLevelIndex]instanceof Object&&te(l,e),t.remove()})),s.appendChild(f)}else{var g=document.createElement("button");g.classList.add("button"),g.innerText="Hinzufügen",g.addEventListener("click",(function(n){n.preventDefault();var i=d.value,r=a.innerText;e.addExistingAdvantage(i,r),t.remove()})),s.appendChild(g)}};for(var r in n)if("break"===i(r))break})),k.appendChild(x);var w=document.createElement("ul");w.classList.add("selection__searchResults-list"),g.appendChild(w);var A=document.createElement("div");A.classList.add("create-content"),p.appendChild(A);var y=document.createElement("div");y.classList.add("create__flex"),A.appendChild(y);var S=document.createElement("label");S.innerText="Name: ",y.appendChild(S);var I=document.createElement("input");I.setAttribute("class","inputField create__inputName"),I.setAttribute("type","text"),y.appendChild(I);var L=document.createElement("div");L.classList.add("create__textarea-container"),A.appendChild(L);var C=document.createElement("label");C.innerText="Beschreibung: ",L.appendChild(C);var T=document.createElement("textarea");T.setAttribute("class","inputField create__textarea"),L.appendChild(T);var _=document.createElement("div");_.classList.add("create__flex"),A.appendChild(_);var z=document.createElement("label");z.innerText="XP: ",_.appendChild(z);var V=document.createElement("input");V.setAttribute("class","inputField create__inputXP"),V.setAttribute("type","number"),_.appendChild(V);var P=document.createElement("div");P.classList.add("create__boni-container"),A.appendChild(P);var M=document.createElement("h4");M.classList.add("create__boni-heading"),M.innerText="Boni: ",P.appendChild(M);var B=document.createElement("p");B.classList.add("create__boni-tipp"),B.innerText="Die eingetragene Zahl wird dem entsprechenden dazuaddiert.",P.appendChild(B);var D=document.createElement("ul");D.classList.add("create__boni-list"),P.appendChild(D);var Z=document.createElement("button");Z.setAttribute("class","button create__boni-add"),Z.innerText="Boni hinzufügen",Z.addEventListener("click",(function(t){t.preventDefault();var n=document.createElement("li");D.appendChild(n);var i=document.createElement("select");i.setAttribute("class","select create__boni-selector"),n.appendChild(i);var r,a=q(e.supernaturalModule.skills.list);try{for(a.s();!(r=a.n()).done;){var s=r.value,l=document.createElement("option");l.setAttribute("value",s.id),l.innerText=s.name,i.appendChild(l)}}catch(e){a.e(e)}finally{a.f()}var d=document.createElement("input");d.setAttribute("type","number"),d.setAttribute("class","inputField create__boni-input"),n.appendChild(d);var u=document.createElement("button");u.setAttribute("class","button create__boni-delete"),u.innerText="Entfernen",u.addEventListener("click",(function(e){e.preventDefault(),n.remove()})),n.appendChild(u)})),P.appendChild(Z);var G=document.createElement("button");return G.setAttribute("class","button create__advantage-add"),G.innerText="Vorteil erstellen",G.addEventListener("click",(function(n){if(n.preventDefault(),""!==I.value)if(""!==V.value)if(""!==T.value){var i=I.value,r=T.value,a=parseInt(V.value),s=void 0;if(0!==D.children.length){s={};var l,u=q(D.children);try{for(u.s();!(l=u.n()).done;){var c=l.value,o=c.children[0].value,h=parseInt(c.children[1].value);s[o]=h}}catch(e){u.e(e)}finally{u.f()}}e.addNewAdvantage(d.value,i,r,a,s),t.remove()}else alert("Bitte eine Beschreibung hinzufügen!");else alert("Bitte einen Wert für die XP einfügen!");else alert("Bitte einen Namen eingeben!")})),A.appendChild(G),t}(i))}))}return de(t,[{key:"addExistingAdvantage",value:function(e,t,n,i){var r,a,s=re(this.list);try{for(s.s();!(r=s.n()).done;)if(r.value.name===t)return void alert("Vorteil mit diesem Namen bereits vorhanden")}catch(e){s.e(e)}finally{s.f()}switch(e){case"mage":a=Q.mageAdvantages;break;case"karma":a=Q.karmaAdvantages;break;case"demon":a=Q.demonAdvantages;break;default:return void alert('Die Kategorie "'.concat(e,'" gibt es nicht'))}var l=a.find((function(e){return e.name===t}));if(void 0!==l)if(this.supernaturalModule.attributesModule.getAttrValue(l.attribute)<l.minValue)alert("Dein Attribut ist nicht hoch genug");else{if(!0!==l.tradition)if(!this.list.some((function(e){return!0===e.tradition})))return void alert("Du benötigst zuvor ein Traditionsvorteil, bevor du den Vorteil hinzufügen darfst!");if(!0===l.tradition){if(null!==l.level){if(void 0===n)return void alert("Es muss eine Stufe übergeben werden!");if(l.curLevelIndex=l.level.findIndex((function(e){return e===n})),-1===l.curLevelIndex)return void alert("Übergebene Stufe nicht gefunden")}void 0!==i&&(l.skill=i)}l.category=e,this.list.push(l),ee(l,this),this.events.emit("change")}else alert("Vorteil nicht gefunden")}},{key:"addNewAdvantage",value:function(e,t,n,i,r){var a,s=re(this.list);try{for(s.s();!(a=s.n()).done;)if(a.value.name===t)return void alert("Vorteil mit diesem Namen bereits vorhanden")}catch(e){s.e(e)}finally{s.f()}var l={category:e,name:t,description:n,xp:parseInt(i)};void 0!==r&&(l.skill=r),this.list.push(l),ee(l,this),this.events.emit("change")}},{key:"deleteAdvantage",value:function(e){var t=this.list.findIndex((function(t){return t.name===e}));-1!==t?(this.list.splice(t,1),this.events.emit("change")):alert("Vorteil nicht gefunden")}},{key:"editAdvantageLevel",value:function(e,t){var n=this.list.find((function(t){return t.name===e}));void 0!==n.level?(n.skill=void 0,n.curLevelIndex=n.level.findIndex((function(e){return e===t})),n.boni[n.curLevelIndex]instanceof Object&&te(n,this),this.events.emit("change")):alert("Der Vorteil verfügt nicht über verschiedene Stufen")}},{key:"setSkillBoni",value:function(e,t){this.list.find((function(t){return t.name===e})).skill=t,this.events.emit("change")}}]),t}(),ce=function(){function t(n){var i=this;se(this,t),this.list=[],this.supernaturalModule=n,this.xp=0,this.boni={},this.events=new e.EventEmitter,this.idCount=1,this.events.on("change",(function(){i.updateHTML(),i.supernaturalModule.events.emit("change")})),document.getElementById("supernatural__skill-edit").addEventListener("click",(function(e){document.getElementById("body").appendChild(function(e){var t=document.createElement("div"),n=document.createElement("div");n.classList.add("popup-bg"),t.appendChild(n);var i=document.createElement("div");i.classList.add("popup"),t.appendChild(i);var r=document.createElement("div");r.classList.add("popup-header"),i.appendChild(r);var a=document.createElement("h2");a.classList.add("popup-heading"),a.innerText="Eigene Fertigkeiten",r.appendChild(a);var s=document.createElement("a");s.setAttribute("href","#"),s.classList.add("popup-close"),s.innerText="X",s.addEventListener("click",(function(e){e.preventDefault(),t.remove()})),r.appendChild(s);var l=document.createElement("ul");i.appendChild(l);var d,u=q(e.list);try{for(u.s();!(d=u.n()).done;){var c=d.value;l.appendChild(ne(e,c))}}catch(e){u.e(e)}finally{u.f()}var o=document.createElement("buttton");return o.setAttribute("class","addSkill button"),o.setAttribute("id","addSkill"),o.innerText="Fertigkeit hinzufügen",o.addEventListener("click",(function(t){l.appendChild(ne(e,void 0)),o.classList.add("hide")})),i.appendChild(o),t}(i))}))}return de(t,[{key:"addSkill",value:function(e,t,n,i,r,a){var s="supS".concat(this.idCount);this.idCount++;var l=new oe(this.supernaturalModule.attributesModule,e,s,t,n,i,r,a);this.list.push(l),document.getElementById("supernatural__skills-body").appendChild(function(e,t){var n=document.createElement("tr");n.setAttribute("class","list__entry closed"),n.setAttribute("id","".concat(t.id,"-tr"));var i=document.createElement("td");i.setAttribute("class","list__entry-header supernatural__skillName"),i.addEventListener("click",(function(){n.classList.contains("opened")?(n.classList.remove("opened"),n.classList.add("closed")):(n.classList.remove("closed"),n.classList.add("opened"))}));var r=document.createElement("h4");r.setAttribute("class","list__entry-heading");var a=document.createElement("span");a.setAttribute("id","".concat(t.id,"-name")),a.innerText="".concat(t.name," "),r.appendChild(a);var s=document.createElement("span");s.setAttribute("class","list__entry-xp"),s.setAttribute("id","".concat(t.id,"-xp")),s.innerText="xp: ".concat(t.getXP()),r.appendChild(s),i.appendChild(r),n.appendChild(i);var l=document.createElement("td");l.setAttribute("class","supernatural__skill-factor"),l.setAttribute("id","".concat(t.id,"-factor")),l.innerText=t.factor,n.appendChild(l);var d=document.createElement("td");d.setAttribute("class","supernatural__skill-attributes"),d.setAttribute("id","".concat(t.id,"-attributes")),d.innerText="".concat(t.attr1.toUpperCase(),"/").concat(t.attr2.toUpperCase(),"/").concat(t.attr3.toUpperCase()),n.appendChild(d);var u=document.createElement("td");u.setAttribute("class","supernatural__skill-basis"),u.setAttribute("id","".concat(t.id,"-basis")),u.innerText=t.getBasis(),n.appendChild(u);var c=document.createElement("td");c.setAttribute("class","supernatural__skill-value");var o=document.createElement("div");o.setAttribute("class","supernatural__skill-value-container");var h=document.createElement("a");h.setAttribute("class","value-button"),h.setAttribute("href","#"),h.innerText="-",h.addEventListener("click",(function(n){n.preventDefault(),e.substrSkillValue(t.id)})),o.appendChild(h);var p=document.createElement("span");p.setAttribute("class","supernatural__skill-value-number"),p.setAttribute("id","".concat(t.id,"-value")),p.innerText=t.value,o.appendChild(p);var m=document.createElement("a");m.setAttribute("class","value-button"),m.setAttribute("href","#"),m.innerText="+",m.addEventListener("click",(function(n){n.preventDefault(),e.addSkillValue(t.id)})),o.appendChild(m),c.appendChild(o),n.appendChild(c);var v=document.createElement("td");return v.setAttribute("class","supernatural__skill-pw"),v.setAttribute("id","".concat(t.id,"-pw")),v.innerText=2*t.value,n.appendChild(v),n}(this,l)),this.events.emit("change")}},{key:"deleteSkill",value:function(e){var t=this.list.findIndex((function(t){return t.id===e}));this.list.splice(t,1),this.events.emit("change")}},{key:"editSkill",value:function(e,t,n,i,r,a){this.list.find((function(t){return t.id===e})).edit(t,n,i,r,a),document.getElementById("".concat(e,"-name")).innerText="".concat(t," "),document.getElementById("".concat(e,"-factor")).innerText=n,document.getElementById("".concat(e,"-attributes")).innerText="".concat(i.toUpperCase(),"/").concat(r.toUpperCase(),"/").concat(a.toUpperCase()),this.events.emit("change")}},{key:"setSkillValue",value:function(e,t){var n,i=re(this.list);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.id===e&&t>=0&&(r.value=t)}}catch(e){i.e(e)}finally{i.f()}}},{key:"addSkillValue",value:function(e){var t,n=re(this.list);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.id===e){var r=[];r.push(this.supernaturalModule.attributesModule.getAttrValue(i.attr1)),r.push(this.supernaturalModule.attributesModule.getAttrValue(i.attr2)),r.push(this.supernaturalModule.attributesModule.getAttrValue(i.attr3));var a=Math.max.apply(Math,r);if(i.value+1>a+2)return void alert("Der Fertigkeitswert darf maximal um 2 höher sein als das höchste Attribut!");i.addValue()}}}catch(e){n.e(e)}finally{n.f()}this.events.emit("change")}},{key:"substrSkillValue",value:function(e){var t,n=re(this.list);try{for(n.s();!(t=n.n()).done;){var i=t.value;i.id===e&&i.value>0&&i.value--}}catch(e){n.e(e)}finally{n.f()}this.events.emit("change")}},{key:"updateXP",value:function(){this.xp=0;var e,t=re(this.list);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.xp+=n.getXP()}}catch(e){t.e(e)}finally{t.f()}}},{key:"updateHTML",value:function(){this.updateXP();var e,t=re(this.list);try{for(t.s();!(e=t.n()).done;){var n=e.value,i=n.value;void 0!==this.boni[n.id]&&(i+=this.boni[n.id]);var r=n.getBasis(),a=n.getXP();document.getElementById("".concat(n.id,"-xp")).innerText="xp: ".concat(a),document.getElementById("".concat(n.id,"-factor")).innerText=n.factor,document.getElementById("".concat(n.id,"-basis")).innerText=r,document.getElementById("".concat(n.id,"-value")).innerText=i,document.getElementById("".concat(n.id,"-pw")).innerText=2*i}}catch(e){t.e(e)}finally{t.f()}document.getElementById("supernatural__skills-xp").innerText="xp: ".concat(this.xp)}}]),t}(),oe=function(){function e(t,n,i,r,a,s,l){se(this,e),this.attributesModule=t,this.name=n,this.id=i,this.factor=r,this.value=0,this.attr1=a,this.attr2=s,this.attr3=l}return de(e,[{key:"edit",value:function(e,t,n,i,r){this.name=e,this.factor=t,this.attr1=n,this.attr2=i,this.attr3=r}},{key:"addValue",value:function(){this.value++}},{key:"substrValue",value:function(){this.value>0&&this.value--}},{key:"getXP",value:function(){return(1+this.value)*this.value*(this.factor/2)}},{key:"getBasis",value:function(){var e,t,n,i,r=re(this.attributesModule.list);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(a.id===this.attr1&&(e=a.value),a.id===this.attr2&&(t=a.value),a.id===this.attr3&&(n=a.value),void 0!==e&&void 0!==t&&void 0!==n)break}}catch(e){r.e(e)}finally{r.f()}return Math.round((e+t+n)/3)}}]),e}(),he=function(){function t(n){var i=this;se(this,t),this.supernaturalModule=n,this.events=new e.EventEmitter,this.list=[],this.xp=0,this.events.on("change",(function(){i.calculateXP(),document.getElementById("supernatural__talents-xp").innerText="xp: ".concat(i.xp),i.supernaturalModule.events.emit("change")})),document.getElementById("supernatural__talent-add").addEventListener("click",(function(e){e.preventDefault(),ie(i)}))}return de(t,[{key:"addTalent",value:function(e,t,n,i,r,a,s,l,d){var u,c=re(this.list);try{for(c.s();!(u=c.n()).done;)if(u.value.name===t)return void alert("Talent mit diesem Namen bereits vorhanden")}catch(e){c.e(e)}finally{c.f()}var o={skillId:e,name:t,xp:parseInt(n),description:i,preparation:r,target:a,range:s,duration:l,cost:d};this.list.push(o),document.getElementById("supernatural__talents").appendChild(function(e,t){var n=document.createElement("div");n.setAttribute("class","supernatural__talent closed");var i=document.createElement("h4");i.setAttribute("class","supernatural__talent-heading"),i.appendChild(document.createTextNode(t.name));var r=document.createElement("span");r.setAttribute("class","supernatural__talent-xp"),r.innerText="xp: ".concat(t.xp),i.appendChild(r),i.addEventListener("click",(function(){n.classList.contains("opened")?(n.classList.add("closed"),n.classList.remove("opened")):(n.classList.add("opened"),n.classList.remove("closed"))})),n.appendChild(i);var a=document.createElement("p");a.setAttribute("class","supernatural__talent-description"),a.innerText=t.description,n.appendChild(a);var s=document.createElement("ul");s.setAttribute("class","supernatural__talent-list");var l=document.createElement("li");l.setAttribute("class","supernatural__talent-skill");var d=e.supernaturalModule.skills.list.find((function(e){return e.id===t.skillId})).name;l.innerText=d,s.appendChild(l);var u=document.createElement("li");u.setAttribute("class","supernatural__talent-preparation"),u.innerText=t.preparation,s.appendChild(u);var c=document.createElement("li");c.setAttribute("class","supernatural__talent-target"),c.innerText=t.target,s.appendChild(c);var o=document.createElement("li");o.setAttribute("class","supernatural__talent-range"),o.innerText=t.range,s.appendChild(o);var h=document.createElement("li");h.setAttribute("class","supernatural__talent-duration"),h.innerText=t.duration,s.appendChild(h);var p=document.createElement("li");p.setAttribute("class","supernatural__talent-cost"),p.innerText=t.cost,s.appendChild(p),n.appendChild(s);var m=document.createElement("button");m.setAttribute("class","button"),m.innerText="Ändern",m.addEventListener("click",(function(i){i.preventDefault(),ie(e,t,n)})),n.appendChild(m);var v=document.createElement("button");return v.setAttribute("class","button"),v.innerText="Entfernen",v.addEventListener("click",(function(i){i.preventDefault(),e.deleteTalent(t.name),n.remove()})),n.appendChild(v),n}(this,o)),this.events.emit("change")}},{key:"deleteTalent",value:function(e){for(var t in this.list)if(this.list[t].name===e)return this.list.splice(t,1),void this.events.emit("change");alert("Talent nicht gefunden!"),this.events.emit("change")}},{key:"editTalent",value:function(e,t,n,i,r,a,s,l,d,u){var c=this.list.findIndex((function(t){return t.name===e}));this.list[c]={skillId:t,name:n,xp:parseInt(i),description:r,preparation:a,target:s,range:l,duration:d,cost:u},this.events.emit("change")}},{key:"calculateXP",value:function(){this.xp=0;var e,t=re(this.list);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.xp+=n.xp}}catch(e){t.e(e)}finally{t.f()}}},{key:"getTalentPW",value:function(e){var t=this.list.find((function(t){return t.name===e})).skillId,n=this.supernaturalModule.skills.list.find((function(e){return e.id===t}));return n.basis+n.value}}]),t}(),pe=function(){function t(n){var i=this;se(this,t),this.supernaturalModule=n;var r=n.advantagesModule.boni.derivedValues;this.mana={asp:0,kap:0,gup:0},this.boni={asp:r.asp,kap:r.kap,gup:r.gup},this.xp=0,this.events=new e.EventEmitter,this.events.on("change",(function(){var e=i.supernaturalModule.advantagesModule.boni.derivedValues;i.boni={asp:e.asp,kap:e.kap,gup:e.gup},i.update(),i.supernaturalModule.events.emit("change")}));for(var a=function(){var e=l[s];document.getElementById("".concat(e,"-add")).addEventListener("click",(function(t){t.preventDefault(),i.addPoint(e)})),document.getElementById("".concat(e,"-substr")).addEventListener("click",(function(t){t.preventDefault(),i.substrPoint(e)}))},s=0,l=Object.keys(this.mana);s<l.length;s++)a()}return de(t,[{key:"addPoint",value:function(e){this.mana[e]++,this.events.emit("change")}},{key:"substrPoint",value:function(e){this.mana[e]>0&&(this.mana[e]--,this.events.emit("change"))}},{key:"setPoints",value:function(e,t){this.mana[e]=t,this.events.emit("change")}},{key:"update",value:function(){this.xp=0;for(var e=0,t=Object.keys(this.mana);e<t.length;e++){var n=t[e],i=Math.round((1+this.mana[n])*this.mana[n]*.5);document.getElementById("".concat(n,"-xp")).innerText="xp: ".concat(i),this.xp+=i;var r=this.mana[n]+this.boni[n];document.getElementById("supernatural__".concat(n,"-value")).innerText=r,document.getElementById("".concat(n,"-dv")).innerText=r}}}]),t}(),me=function(){function t(n,i){var r=this;se(this,t),this.attributesModule=n,this.advantagesModule=i,this.xp=0,this.advantages=new ue(this),this.skills=new ce(this),this.talents=new he(this),this.mana=new pe(this),this.events=new e.EventEmitter,this.events.on("change",(function(){r.calculateXP(),document.getElementById("supernatural-xp").innerText="xp: ".concat(r.xp)}))}return de(t,[{key:"calculateXP",value:function(){this.xp=this.advantages.xp+this.skills.xp+this.talents.xp+this.mana.xp}}]),t}();function ve(e){var t=document.createElement("div"),n=document.createElement("div");n.classList.add("popup-bg"),t.appendChild(n);var i=document.createElement("div");i.classList.add("popup"),t.appendChild(i);var r=document.createElement("div");r.classList.add("popup-header"),i.appendChild(r);var a=document.createElement("h2");a.classList.add("popup-heading"),a.innerText="Rüstung hinzufügen:",r.appendChild(a);var s=document.createElement("a");s.setAttribute("href","#"),s.setAttribute("class","popup-close"),s.innerText="X",s.addEventListener("click",(function(e){e.preventDefault(),t.remove()})),r.appendChild(s);var l=document.createElement("div"),d=document.createElement("label");d.innerText="Name: ",l.appendChild(d);var u=document.createElement("input");u.setAttribute("class","inputField"),u.setAttribute("type","text"),l.appendChild(u),i.appendChild(l);var c=document.createElement("button");c.setAttribute("class","button"),c.innerText="Hinzufügen",c.addEventListener("click",(function(n){n.preventDefault(),""!==u.value?(e.addGear(u.value,"","","","","","","",""),t.remove()):alert("Bitte einen Namen eingeben!")})),i.appendChild(c),document.getElementById("body").appendChild(t)}function fe(e,t,n){var i=document.createElement("input");return i.setAttribute("class","gear__inventory-input inputField"),i.setAttribute("type","text"),i.value=n,i.addEventListener("keypress",(function(r){"Enter"===r.key&&(e.editItem(n,i.value),t.setAttribute("data-name",i.value),i.remove(),t.before(function(e,t,n){var i=document.createElement("span");return i.classList.add("gear__inventory-item-name"),i.innerText=n,i.addEventListener("click",(function(){i.remove(),t.before(fe(e,t,n))})),i}(e,t,i.value)))})),i}function ge(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?be(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function xe(e,t,n){return t&&Ee(e.prototype,t),n&&Ee(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var we=function(){function t(n){var i=this;ke(this,t),this.gearModule=n,this.list=[],this.rs=0,this.be=0,this.events=new e.EventEmitter,this.events.on("change",(function(){i.rs=0,i.be=0;var e,t=ge(i.list);try{for(t.s();!(e=t.n()).done;){var n=e.value;i.rs+=n.rs,i.be+=n.be}}catch(e){t.e(e)}finally{t.f()}i.gearModule.events.emit("change")})),document.getElementById("gear__add-armor").addEventListener("click",(function(e){e.preventDefault(),ve(i)}))}return xe(t,[{key:"addGear",value:function(e,t,n){var i=t,r=n;""===i&&(i=0),""===r&&(r=0);var a,s=ge(this.list);try{for(s.s();!(a=s.n()).done;)if(e===a.value.name)return void alert("Eine Rüstung mit dem Namen bereits vorhanden!")}catch(e){s.e(e)}finally{s.f()}var l={name:e,rs:parseInt(i),be:parseInt(r)};this.list.push(l),this.events.emit("change"),document.getElementById("gear__add-armor").before(function(e,t){var n=document.createElement("div");n.setAttribute("class","gear__entry opened");var i=document.createElement("h4");i.innerText=t.name,i.addEventListener("click",(function(e){n.classList.contains("opened")?(n.classList.add("closed"),n.classList.remove("opened")):(n.classList.add("opened"),n.classList.remove("closed"))})),n.appendChild(i);var r=document.createElement("div");r.setAttribute("class","gear__entry-values"),n.appendChild(r);var a=document.createElement("div");a.setAttribute("class","gear__entry-value");var s=document.createElement("label");s.setAttribute("class","gear__entry-label"),s.innerText="RS:",a.appendChild(s);var l=document.createElement("input");l.setAttribute("type","number"),l.setAttribute("class","inputField gear__entry-input"),l.value=t.rs,l.setAttribute("data-value",t.rs),l.addEventListener("change",(function(){if(""===l.value)return alert("Das Feld RS muss eine Zahl enthalten!"),void(l.value=l.getAttribute("data-value"));e.editGear(t.name,l.value,void 0),l.setAttribute("data-value",l.value)})),a.appendChild(l),r.appendChild(a);var d=document.createElement("div");d.setAttribute("class","gear__entry-value");var u=document.createElement("label");u.setAttribute("class","gear__entry-label"),u.innerText="BE:",d.appendChild(u);var c=document.createElement("input");c.setAttribute("type","number"),c.setAttribute("class","inputField gear__entry-input"),c.value=t.be,c.setAttribute("data-value",t.be),c.addEventListener("change",(function(){if(""===c.value)return alert("Das Feld BE muss eine Zahl enthalten!"),void(c.value=c.getAttribute("data-value"));e.editGear(t.name,void 0,c.value),c.setAttribute("data-value",c.value)})),d.appendChild(c),r.appendChild(d);var o=document.createElement("button");return o.setAttribute("class","button"),o.innerText="Entfernen",o.addEventListener("click",(function(i){i.preventDefault(),e.deleteGear(t.name),n.remove()})),n.appendChild(o),n}(this,l))}},{key:"editGear",value:function(e,t,n){var i=this.list.find((function(t){return t.name===e}));void 0!==t&&(i.rs=parseInt(t)),void 0!==n&&(i.be=parseInt(n)),this.events.emit("change")}},{key:"deleteGear",value:function(e){var t=this.list.findIndex((function(t){return t.name===e}));this.list.splice(t,1),this.events.emit("change")}}]),t}(),Ae=function(){function e(t){var n=this;ke(this,e),this.gearModule=t,this.list=[],document.getElementById("gear__add-weapon").addEventListener("click",(function(e){e.preventDefault(),ve(n)}))}return xe(e,[{key:"addGear",value:function(e,t,n,i,r,a,s,l,d){var u={name:e,tp:t,rw:n,wm:i,hardness:r,at:a,vt:s,tpm:l,character:d};this.list.push(u),document.getElementById("gear__add-weapon").before(function(e,t){var n=document.createElement("div");n.setAttribute("class","gear__entry opened");var i=document.createElement("h4");i.innerText=t.name,i.addEventListener("click",(function(e){n.classList.contains("opened")?(n.classList.add("closed"),n.classList.remove("opened")):(n.classList.add("opened"),n.classList.remove("closed"))})),n.appendChild(i);var r=document.createElement("div");r.setAttribute("class","gear__entry-values"),n.appendChild(r);var a=document.createElement("div");a.setAttribute("class","gear__entry-value");var s=document.createElement("label");s.setAttribute("class","gear__entry-label"),s.innerText="TP:",a.appendChild(s);var l=document.createElement("input");l.setAttribute("type","text"),l.setAttribute("class","inputField gear__entry-input"),l.value=t.tp,l.setAttribute("data-value",t.tp),l.addEventListener("change",(function(){e.editGear(t.name,l.value),l.setAttribute("data-value",l.value)})),a.appendChild(l),r.appendChild(a);var d=document.createElement("div");d.setAttribute("class","gear__entry-value");var u=document.createElement("label");u.setAttribute("class","gear__entry-label"),u.innerText="rw:",d.appendChild(u);var c=document.createElement("input");c.setAttribute("type","text"),c.setAttribute("class","inputField gear__entry-input"),c.value=t.rw,c.setAttribute("data-value",t.rw),c.addEventListener("change",(function(){e.editGear(t.name,"",c.value),c.setAttribute("data-value",c.value)})),d.appendChild(c),r.appendChild(d);var o=document.createElement("div");o.setAttribute("class","gear__entry-value");var h=document.createElement("label");h.setAttribute("class","gear__entry-label"),h.innerText="wm:",o.appendChild(h);var p=document.createElement("input");p.setAttribute("type","text"),p.setAttribute("class","inputField gear__entry-input"),p.value=t.wm,p.setAttribute("data-value",t.wm),p.addEventListener("change",(function(){e.editGear(t.name,"","",p.value),p.setAttribute("data-value",p.value)})),o.appendChild(p),r.appendChild(o);var m=document.createElement("div");m.setAttribute("class","gear__entry-value");var v=document.createElement("label");v.setAttribute("class","gear__entry-label"),v.innerText="hardness:",m.appendChild(v);var f=document.createElement("input");f.setAttribute("type","text"),f.setAttribute("class","inputField gear__entry-input"),f.value=t.hardness,f.setAttribute("data-value",t.hardness),f.addEventListener("change",(function(){e.editGear(t.name,"","","",f.value),f.setAttribute("data-value",f.value)})),m.appendChild(f),r.appendChild(m);var g=document.createElement("div");g.setAttribute("class","gear__entry-value");var b=document.createElement("label");b.setAttribute("class","gear__entry-label"),b.innerText="at:",g.appendChild(b);var k=document.createElement("input");k.setAttribute("type","text"),k.setAttribute("class","inputField gear__entry-input"),k.value=t.at,k.setAttribute("data-value",t.at),k.addEventListener("change",(function(){e.editGear(t.name,"","","","",k.value),k.setAttribute("data-value",k.value)})),g.appendChild(k),r.appendChild(g);var E=document.createElement("div");E.setAttribute("class","gear__entry-value");var x=document.createElement("label");x.setAttribute("class","gear__entry-label"),x.innerText="vt:",E.appendChild(x);var w=document.createElement("input");w.setAttribute("type","text"),w.setAttribute("class","inputField gear__entry-input"),w.value=t.vt,w.setAttribute("data-value",t.vt),w.addEventListener("change",(function(){e.editGear(t.name,"","","","","",w.value),w.setAttribute("data-value",w.value)})),E.appendChild(w),r.appendChild(E);var A=document.createElement("div");A.setAttribute("class","gear__entry-value");var y=document.createElement("label");y.setAttribute("class","gear__entry-label"),y.innerText="tpm:",A.appendChild(y);var S=document.createElement("input");S.setAttribute("type","text"),S.setAttribute("class","inputField gear__entry-input"),S.value=t.tpm,S.setAttribute("data-value",t.tpm),S.addEventListener("change",(function(){e.editGear(t.name,"","","","","","",S.value),S.setAttribute("data-value",S.value)})),A.appendChild(S),r.appendChild(A);var I=document.createElement("div");I.setAttribute("class","gear__entry-value");var L=document.createElement("label");L.setAttribute("class","gear__entry-label"),L.innerText="character:",I.appendChild(L);var C=document.createElement("input");C.setAttribute("type","text"),C.setAttribute("class","inputField gear__entry-input"),C.value=t.character,C.setAttribute("data-value",t.character),C.addEventListener("change",(function(){e.editGear(t.name,"","","","","","","",C.value),C.setAttribute("data-value",C.value)})),I.appendChild(C),r.appendChild(I);var T=document.createElement("button");return T.setAttribute("class","button"),T.innerText="Entfernen",T.addEventListener("click",(function(i){i.preventDefault(),e.deleteGear(t.name),n.remove()})),n.appendChild(T),n}(this,u))}},{key:"editGear",value:function(e,t,n,i,r,a,s,l,d){var u=this.list.find((function(t){return t.name===e}));void 0!==t&&(u.tp=t),void 0!==n&&(u.rw=n),void 0!==i&&(u.wm=i),void 0!==r&&(u.hardness=r),void 0!==a&&(u.at=a),void 0!==s&&(u.vt=s),void 0!==l&&(u.tpm=l),void 0!==d&&(u.character=d)}},{key:"deleteGear",value:function(e){var t=this.list.findIndex((function(t){return t.name===e}));this.list.splice(t,1)}}]),e}(),ye=function(){function e(){var t=this;ke(this,e),this.list=[],document.getElementById("gear__inventory-add").addEventListener("click",(function(e){e.preventDefault(),t.addItem("neuesItem")}))}return xe(e,[{key:"addItem",value:function(e){var t,n=ge(this.list);try{for(n.s();!(t=n.n()).done;)if(t.value.name===e)return void alert("Item bereits vorhanden!")}catch(e){n.e(e)}finally{n.f()}var i={name:e};this.list.push(i),document.getElementById("gear__inventory-add").before(function(e,t){var n=document.createElement("li"),i=document.createElement("a");return i.setAttribute("href","#"),i.setAttribute("class","gear__inventory-delete"),i.setAttribute("data-name",t.name),i.innerText="X",i.addEventListener("click",(function(t){t.preventDefault(),e.deleteItem(i.getAttribute("data-name")),n.remove()})),n.appendChild(i),i.before(fe(e,i,t.name)),n}(this,i))}},{key:"editItem",value:function(e,t){this.list.find((function(t){return t.name===e})).name=t}},{key:"deleteItem",value:function(e){var t=this.list.findIndex((function(t){return t.name===e}));this.list.splice(t,1)}}]),e}(),Se=xe((function t(n,i){var r=this;ke(this,t),this.attributesModule=n,this.derivedValues=i,this.events=new e.EventEmitter,this.armor=new we(this),this.weapons=new Ae(this),this.inevtory=new ye,this.values={ws:0,dh:0},this.events.on("change",(function(){r.values.ws=i.values.ws+r.armor.rs,document.getElementById("gear-ws").innerText="WS*: ".concat(r.values.ws),r.values.dh=n.getAttrValue("ko")-2*r.armor.be,document.getElementById("gear-dh").innerText="dh*: ".concat(r.values.dh)})),this.events.emit("change")}));function Ie(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Le(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}console.error(),document.addEventListener("DOMContentLoaded",(function(e){var t,n=Ie(document.querySelectorAll(".opened"));try{var i=function(){var e=t.value;e.classList.remove("opened"),e.classList.add("closed"),e.children[0].addEventListener("click",(function(t){e.classList.contains("closed")?(e.classList.remove("closed"),e.classList.add("opened")):(e.classList.remove("opened"),e.classList.add("closed"))}))};for(n.s();!(t=n.n()).done;)i()}catch(e){n.e(e)}finally{n.f()}new S;var r,a=new u,s=Ie(c.Y);try{for(s.s();!(r=s.n()).done;){var l=r.value;a.addAttribute(l.name,l.id)}}catch(e){s.e(e)}finally{s.f()}var d=new w(a,m);a.events.on("change",(function(){d.events.emit("change")}));var o,h=Ie(c.n);try{for(h.s();!(o=h.n()).done;){var p=o.value;d.addSkill(p.name,p.id,p.fight,p.factor,p.attr1,p.attr2,p.attr3,!1)}}catch(e){h.e(e)}finally{h.f()}var m=new H(a,d);m.events.on("change",(function(){d.events.emit("change")}));var v=new me(a,m);a.events.on("change",(function(){v.skills.events.emit("change")})),m.events.on("change",(function(){v.mana.events.emit("change")}));var f=new X(a,m);a.events.on("change",(function(){f.events.emit("change")})),m.events.on("change",(function(){f.events.emit("change")}));var g=new Se(a,f);f.events.on("change",(function(){g.events.emit("change")})),a.events.on("change",(function(){g.events.emit("change")}));var b=new $(a,d,m,v);a.events.on("change",(function(){b.events.emit("change")})),d.events.on("change",(function(){b.events.emit("change")})),m.events.on("change",(function(){b.events.emit("change")})),v.events.on("change",(function(){b.events.emit("change")}))}))})()})();